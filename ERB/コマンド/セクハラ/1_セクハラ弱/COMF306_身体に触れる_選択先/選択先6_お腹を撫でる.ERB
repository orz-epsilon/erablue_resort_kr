
@COMNAME_S306_6
#FUNCTIONS
TSTR:コマンド名受渡 = 배를 쓰다듬다

;===================================================
;コマンドタイプ
;===================================================
@COMTYPE_S_306_6
#FUNCTION
TFLAG:コマンドタイプ受渡 = COMTYPE("セクハラ弱")
弱点コマンドカテゴリ = S
睡眠中許可 = 1


@COM_TOOLTIP_S306_6
LOCALS = <br>■배를 쓰다듬다<br>
LOCALS += "상대의 복부를 쓰다듬는 커맨드. <br>임신 진행 상태가 일정 이상일 경우에만 실행 가능."
LOCALS += "<br>COM 타입: 성희롱<br>획득 소스: 접촉・노출・쾌S・환락(일정 조건 시)・불쾌(일정 조건 시)・반감(일정 조건 시)"
LOCALS += "<br>고유 획득 경험: 없음<br>"
TSTR:ツールチップ受渡 = %LOCALS%


@COM_S306_6
;お腹を撫でる

;発生する快楽は受け手の状態に依存しない
CALL SOURCE_CALC_快Ｓ(TARGET, PLAYER, 30)
SIF CFLAG:TARGET:子の父親 == PLAYER
	CALL SOURCE_CALC_快Ｓ(TARGET, PLAYER, 50)
SIF TALENT:PLAYER:器用な指
	CALL SOURCE_CALC_快Ｓ(TARGET, PLAYER, 20)
TIME += 10

SIF CFLAG:TARGET:睡眠
	RETURN 1

CALL セクハラ反応タイプ判定(TARGET)
;RFLAG:コマンド結果受渡し変数
;1:拒絶  2:受け入れ  3:喜び
;RFLAG:コマンド結果受渡し変数２
;1:無知  2:無反応  3:嫌悪  4:拒否  5:余裕  6:羞恥  7:愉悦  8:汎用
SELECTCASE RFLAG:コマンド結果受渡し変数２
	CASE 2
		;無反応
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1 TO 2
				;拒絶と受け入れ時は反応なし
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
			CASE 3
				;喜び時はちょっと喜ぶ
				CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 10)
				CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 10)
		ENDSELECT
	CASE 3 TO 4
		;嫌悪と拒否
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
				CALL SOURCE_CALC_不快(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_反感(TARGET, PLAYER, 200)
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
			CASE 2
				;受け入れ
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 10)
				CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 10)
			CASE 3
				;喜び
				CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 150)
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 50)
		ENDSELECT
	CASE 6
		;羞恥
		IF CFLAG:TARGET:子の父親 == PLAYER
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					CALL SOURCE_CALC_不快(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_反感(TARGET, PLAYER, 10)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
				CASE 2
					;受け入れ
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 10)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 10)
				CASE 3
					;喜び
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 70)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 70)
			ENDSELECT
		ELSE
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					CALL SOURCE_CALC_不快(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_反感(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
				CASE 2
					;受け入れ
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 150)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 25)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 25)
				CASE 3
					;喜び
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 300)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 150)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 150)
			ENDSELECT
		ENDIF
	CASEELSE
		;上記以外は同じソースを発生
		IF CFLAG:TARGET:子の父親 == PLAYER
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					CALL SOURCE_CALC_不快(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_反感(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CASE 2
					;受け入れ
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 10)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 10)
				CASE 3
					;喜び
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 50)
			ENDSELECT
		ELSE
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CASE 2
					;受け入れ
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 150)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 25)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 25)
				CASE 3
					;喜び
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 250)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 150)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 150)
			ENDSELECT
		ENDIF
ENDSELECT

RETURN 1


;-------------------------------------------------
;実行判定
;-------------------------------------------------
@COM_ABLE_S306_6
;選択から飛んでくるのでABLEは常に0
RETURN 0

@身体に触れる_ABLE_お腹を撫でる
;一括管理
SIF GLOBAL_COMABLE_S("306_6") && !RFLAG:罰ゲーム中
	RETURN RESULT
;妊娠初期
SIF PREGNANCY_SIZE(TARGET) <= 1
	RETURN 0
;関数実行のため、派生番号を返す
RETURN 6

;-------------------------------------------------
;実行時メッセージ
;-------------------------------------------------
@MESSAGE_COM_S306_6

PRINTFORM %CALLNAME:PLAYER%은(는)%CALLNAME:TARGET%의
SELECTCASE PREGNANCY_SIZE(TARGET)
	CASE IS >= 5
		PRINT 거대하게 튀어나온
	CASE 4
		PRINT 크게 부풀어 오른
	CASEELSE
		PRINT 부풀어 오르기 시작한
ENDSELECT
PRINTL 복부에 손을 뻗어, 형태를 확인하듯이 쓰다듬었다
IF CUP:TARGET:快Ｓ > 1000
	;一定以上の快楽が発生した時にちょっと声が出る
	IF CFLAG:TARGET:睡眠
		PRINTFORML %CALLNAME:TARGET%은(는) 잠든 채 작고 달콤한 목소리를 흘렸다…
	ELSE
		PRINTFORML %CALLNAME:TARGET%은(는) 눈을 가늘게 뜨고, 달콤한 한숨을 흘렸다…
	ENDIF
	PRINTL
ENDIF


@MESSAGE_COM_S306_6_非口上時

IF CFLAG:TARGET:睡眠
	PRINTFORML %CALLNAME:TARGET%은(는) 새근새근 잠들어 있다……
	RETURN 0
ENDIF

SELECTCASE RFLAG:コマンド結果受渡し変数２
	CASE 1
		;無知
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				IF 知識素質:TARGET:性知識 == -1 && EXP:TARGET:出産経験
					PRINTFORML %CALLNAME:TARGET%은(는) 아이를 지키듯이%CALLNAME:PLAYER%의 손을 거부했다
				ELSE
					PRINTFORML %CALLNAME:TARGET%은(는) 살쪘다고 착각하고 있는 복부를 만져져, 부끄러워하고 있다
				ENDIF
			CASE 2
				IF 知識素質:TARGET:性知識 == -1 && EXP:TARGET:出産経験
PRINTFORML %CALLNAME:TARGET%은(는) %CALLNAME:PLAYER%와(과) 함께 자신의 배를 쓰다듬고 있다
				ELSE
PRINTFORML %CALLNAME:TARGET%은(는) 살쪘다고 생각하는 복부를 만져져 부끄러워하고 있다
				ENDIF
			CASE 3
				;喜び時は喜ぶ
PRINTFORML %CALLNAME:TARGET%은(는) 간지러운 듯 웃고 있다
		ENDSELECT
	CASE 2
		;無反応
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1 TO 2
				;拒絶と受け入れ時は反応なし
PRINTFORML %CALLNAME:TARGET%은(는) 아무런 반응도 보이지 않고 태연하다
			CASE 3
				;喜び時はちょっと喜ぶ
PRINTFORML %CALLNAME:TARGET%은(는) 태연하지만, 살짝 얼굴을 붉히고 %CALLNAME:PLAYER%에게 몸을 비벼왔다…
		ENDSELECT
	CASE 3
		;嫌悪
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
PRINTFORML %CALLNAME:TARGET%은(는) 싫은 듯한 얼굴로 %CALLNAME:PLAYER%의 손을 떼어냈다…
			CASE 2
				;受け入れ
PRINTFORML %CALLNAME:TARGET%은(는) %CALLNAME:PLAYER%을(를) 무시하고, 마음껏 쓰다듬게 하고 있다
			CASE 3
				;喜び
PRINTFORML %CALLNAME:TARGET%은(는) 무시하고 시선을 피하고 있지만, 살짝 뺨을 붉히고 있다…
		ENDSELECT
	CASE 4
		;拒否
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
PRINTFORML %CALLNAME:TARGET%은(는) 함부로 그곳을 만져서는 안 된다고, %CALLNAME:PLAYER%의 손을 거부했다
			CASE 2
				;受け入れ
PRINTFORML %CALLNAME:TARGET%은(는) 불만스러운 얼굴을 하고 있지만, %CALLNAME:PLAYER%의 손을 거부하지는 않는 것 같다…
			CASE 3
				;喜び
PRINTFORML %CALLNAME:TARGET%은(는) 나쁘지 않은 기분인 듯, %CALLNAME:PLAYER%이(가) 마음대로 하게 하고 있다…
		ENDSELECT
	CASE 5
		;余裕
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
PRINTFORML %CALLNAME:TARGET%은(는) %CALLNAME:PLAYER%을(를) 꾸짖으며, 함부로 임산부를 만져서는 안 된다고 타이르다
			CASE 2
				;受け入れ
PRINTFORML %CALLNAME:TARGET%은(는) 곤란한 듯 웃으며, 말로만 주의를 %CALLNAME:PLAYER%에게 주고 있다
			CASE 3
				;喜び
PRINTFORML %CALLNAME:TARGET%은(는) %CALLNAME:PLAYER%이(가) 쓰다듬기 쉽도록, 몸을 기대왔다…
		ENDSELECT
	CASE 6
		;羞恥
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
PRINTFORML %CALLNAME:TARGET%은(는) 새빨개져서, %CALLNAME:PLAYER%의 손을 쳐냈다…
			CASE 2
				;受け入れ
PRINTFORML %CALLNAME:TARGET%은(는) 얼굴을 붉히면서, %CALLNAME:PLAYER%에게 당하는 대로 되어 있다
			CASE 3
				;喜び
PRINTFORML %CALLNAME:TARGET%은(는) 붉어진 얼굴로 %CALLNAME:PLAYER%을(를) 응시하며, %CALLNAME:PLAYER%의 손에 자신의 손을 겹쳤다…
		ENDSELECT
	CASE 7
		;愉悦
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
PRINTFORML %CALLNAME:TARGET%은(는) 재미있다는 듯 미소 지으며, 그런 만지는 방식으로는 아기가 화를 낸다고 지적해왔다
			CASE 2
				;受け入れ
PRINTFORML %CALLNAME:TARGET%은(는) \@CFLAG:TARGET:아이의 아버지 == PLAYER?아버지의 자각이 생겼나#훌륭한 것이겠지\@, 라고 농담조로 %CALLNAME:PLAYER%을(를) 놀리고 있다…
			CASE 3
				;喜び
PRINTFORML %CALLNAME:TARGET%은(는) 스스로 복부를 %CALLNAME:PLAYER%에게 밀어붙이며, 요염한 표정으로 %CALLNAME:PLAYER%을(를) 도발하고 있다…
		ENDSELECT
	CASE 8
		;汎用
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
PRINTFORML %CALLNAME:TARGET%은(는) %CALLNAME:PLAYER%에게 복부를 만져지는 것을 싫어하고 있다…
			CASE 2
				;受け入れ
PRINTFORML %CALLNAME:TARGET%은(는) %CALLNAME:PLAYER%에게 몸을 기대고, 복부를 더듬어지는 것을 받아들이고 있다
			CASE 3
				;喜び
PRINTFORML %CALLNAME:TARGET%은(는) %CALLNAME:PLAYER%의 손에 자신의 손을 겹치고, 미소 지으며 %CALLNAME:PLAYER%을(를) 응시하고 있다…
		ENDSELECT
ENDSELECT

