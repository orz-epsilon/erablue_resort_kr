@系統リスト_素股系(モード名)
#FUNCTION
#DIMS モード名
IF GROUPMATCH(モード名, "素股", "疑似性交", "貝合わせ", "兜合わせ")
	モード確認結果 = 1
	RETURNF 1
ENDIF



@MODE_持続快楽_素股(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

;実行者が、対象者のペニスを股間で挟み刺激するモード
CALL SOURCE_CALC_快Ｃ(実行キャラ番号, 対象キャラ番号, 80)
CALL SOURCE_CALC_快Ｃ(対象キャラ番号, 実行キャラ番号, 100)
CALL SOURCE_CALC_接触(実行キャラ番号, 対象キャラ番号, 100)
CALL SOURCE_CALC_接触(対象キャラ番号, 実行キャラ番号, 100)
CALL SOURCE_CALC_奉仕(実行キャラ番号, 対象キャラ番号, 60)
;奉仕快楽
RCVAR:実行キャラ番号:奉仕コマンドフラグ = 1

RETURN 1


@MODE_持続快楽_疑似性交(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

;実行者が、対象者のワレメにペニスを擦りつけ刺激するモード
CALL SOURCE_CALC_快Ｃ(実行キャラ番号, 対象キャラ番号, 100)
CALL SOURCE_CALC_快Ｃ(対象キャラ番号, 実行キャラ番号, 80)
CALL SOURCE_CALC_接触(実行キャラ番号, 対象キャラ番号, 100)
CALL SOURCE_CALC_接触(対象キャラ番号, 実行キャラ番号, 100)

RETURN 1


@MODE_持続快楽_貝合わせ(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

;実行者が、対象者のワレメにワレメを擦りつけ刺激するモード
CALL SOURCE_CALC_快Ｃ(実行キャラ番号, 対象キャラ番号, 300)
CALL SOURCE_CALC_快Ｃ(対象キャラ番号, 実行キャラ番号, 300)
CALL SOURCE_CALC_接触(実行キャラ番号, 対象キャラ番号, 100)
CALL SOURCE_CALC_接触(対象キャラ番号, 実行キャラ番号, 100)

SIF 同性愛性癖判定(対象キャラ番号, 実行キャラ番号)
	EXP:対象キャラ番号:同性愛経験 += 1
SIF 同性愛性癖判定(実行キャラ番号, 対象キャラ番号)
	EXP:実行キャラ番号:同性愛経験 += 1
RETURN 1


@MODE_持続快楽_兜合わせ(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

;実行者が、対象者のペニスにペニスを擦りつけ刺激するモード
CALL SOURCE_CALC_快Ｃ(実行キャラ番号, 対象キャラ番号, 100)
CALL SOURCE_CALC_快Ｃ(対象キャラ番号, 実行キャラ番号, 100)
CALL SOURCE_CALC_接触(実行キャラ番号, 対象キャラ番号, 100)
CALL SOURCE_CALC_接触(対象キャラ番号, 実行キャラ番号, 100)

SIF 同性愛性癖判定(対象キャラ番号, 実行キャラ番号)
	EXP:対象キャラ番号:同性愛経験 += 1
SIF 同性愛性癖判定(実行キャラ番号, 対象キャラ番号)
	EXP:実行キャラ番号:同性愛経験 += 1
RETURN 1



@MODETYPE_素股(部位番号, 処理モード, プレイヤー番号, ターゲット番号)
#DIM 部位番号
#DIM プレイヤー番号
#DIM ターゲット番号
#DIMS 処理モード

IF 処理モード == "写真用文字列_プレイヤー"
	;モード固有の「～～をする」の文章を入れ込む
	SELECTCASE RAND:2
	CASE 0
		詳細文文字列受け渡し変数 = %CALLNAME:ターゲット番号%의%TEXTR("페니스/자지")%에%TEXTR("음순/보지")%를 문지르고 있다
	CASE 1
		詳細文文字列受け渡し変数 = %CALLNAME:ターゲット番号%의%TEXTR("페니스/자지")%를 가랑이에 끼고 비비다
	ENDSELECT
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ELSEIF 処理モード == "写真用文字列_ターゲット"
	;モード固有の「～～をする」の文章を入れ込む
	SELECTCASE RAND:2
	CASE 0
		詳細文文字列受け渡し変数 = %CALLNAME:プレイヤー番号%의%TEXTR("음순/보지")%를%TEXTR("페니스/자지/고추")%에 문질러지고 있다
	CASE 1
		詳細文文字列受け渡し変数 = %CALLNAME:プレイヤー番号%의 가랑이에%TEXTR("페니스/자지/고추")%를 끼워져 비벼지고 있다
	ENDSELECT
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ENDIF

;0=ペニス 1=クリ 2=指（手） 3=口 4=胸 5=膣 6=アナル
SELECTCASE 部位番号
	CASE 部位_ペニス
		SIF 処理モード == "プレイヤー"
			RETURN 部位状況_占有
	CASE 部位_クリトリス
		SIF 処理モード == "ターゲット"
			RETURN 部位状況_占有
	CASE 部位_口
		IF プレイヤー番号 < 0 || ターゲット番号 < 0
			;キャラ不明の場合は一般論
			RETURN 部位状況_なし
		ELSEIF ABS(体格差計算(プレイヤー番号, ターゲット番号, 1)) >= 4
			;体格差が4サイズになると口は届かない
			;ターゲット側がプレイヤー側に乗ってるので+1補正
			RETURN 部位状況_届かない
		ELSE
			RETURN 部位状況_なし
		ENDIF
	CASE 部位_膣
		SIF 処理モード == "ターゲット"
			RETURN 部位状況_占有
		SIF 処理モード == "プレイヤー"
			RETURN 部位状況_届かない
	CASE 部位_アナル
		;尻は届かない
		RETURN 部位状況_届かない
ENDSELECT


@MODETYPE_疑似性交(部位番号, 処理モード, プレイヤー番号, ターゲット番号)
#DIM 部位番号
#DIM プレイヤー番号
#DIM ターゲット番号
#DIMS 処理モード

IF 処理モード == "写真用文字列_プレイヤー"
	;モード固有の「～～をする」の文章を入れ込む
	SELECTCASE 0
	CASE 0
		詳細文文字列受け渡し変数 = %CALLNAME:ターゲット番号%의%TEXTR("음순/보지")%에%TEXTR("페니스/자지")%를 문지르고 있다
	ENDSELECT
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ELSEIF 処理モード == "写真用文字列_ターゲット"
	;モード固有の「～～をする」の文章を入れ込む
	SELECTCASE 0
	CASE 0
		詳細文文字列受け渡し変数 = %CALLNAME:プレイヤー番号%의%TEXTR("페니스/자지/고추")%를%TEXTR("음순/보지")%에 문질러지고 있다
	ENDSELECT
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ENDIF

;0=ペニス 1=クリ 2=指（手） 3=口 4=胸 5=膣 6=アナル
SELECTCASE 部位番号
	CASE 部位_ペニス
		SIF 処理モード == "プレイヤー"
			RETURN 部位状況_占有
	CASE 部位_クリトリス
		SIF 処理モード == "ターゲット"
			RETURN 部位状況_占有
	CASE 部位_口
		IF プレイヤー番号 < 0 || ターゲット番号 < 0
			;キャラ不明の場合は一般論
			RETURN 部位状況_なし
		ELSEIF ABS(体格差計算(プレイヤー番号, ターゲット番号)) >= 4
			;体格差が4サイズになると口は届かない
		ELSE
			RETURN 部位状況_なし
		ENDIF
	CASE 部位_膣
		SIF 処理モード == "ターゲット"
			RETURN 部位状況_占有
		SIF 処理モード == "プレイヤー"
			RETURN 部位状況_届かない
	CASE 部位_アナル
		;尻は届かない
		RETURN 部位状況_届かない
ENDSELECT


@MODETYPE_貝合わせ(部位番号, 処理モード, プレイヤー番号, ターゲット番号)
#DIM 部位番号
#DIM プレイヤー番号
#DIM ターゲット番号
#DIMS 処理モード

IF 処理モード == "写真用文字列_プレイヤー"
	;モード固有の「～～をする」の文章を入れ込む
	SELECTCASE 0
	CASE 0
		詳細文文字列受け渡し変数 = %CALLNAME:ターゲット番号%와 서로의%TEXTR("음순/보지")%를 문지르고 있다
	ENDSELECT
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ELSEIF 処理モード == "写真用文字列_ターゲット"
	;モード固有の「～～をする」の文章を入れ込む
	SELECTCASE 0
	CASE 0
		詳細文文字列受け渡し変数 = %CALLNAME:プレイヤー番号%와 서로의%TEXTR("음순/보지")%를 문지르고 있다
	ENDSELECT
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ENDIF

;0=ペニス 1=クリ 2=指（手） 3=口 4=胸 5=膣 6=アナル
SELECTCASE 部位番号
	CASE 部位_クリトリス
		RETURN 部位状況_占有
	CASE 部位_口
		IF プレイヤー番号 < 0 || ターゲット番号 < 0
			;キャラ不明の場合は一般論
			RETURN 部位状況_なし
		ELSEIF ABS(体格差計算(プレイヤー番号, ターゲット番号)) >= 4
			;体格差が4サイズになると口は届かない
			RETURN 部位状況_届かない
		ELSE
			RETURN 部位状況_なし
		ENDIF
	CASE 部位_膣
		RETURN 部位状況_占有
	CASE 部位_アナル
		;尻は届かない
		RETURN 部位状況_届かない
ENDSELECT


@MODETYPE_兜合わせ(部位番号, 処理モード, プレイヤー番号, ターゲット番号)
#DIM 部位番号
#DIM プレイヤー番号
#DIM ターゲット番号
#DIMS 処理モード

IF 処理モード == "写真用文字列_プレイヤー"
	;モード固有の「～～をする」の文章を入れ込む
	SELECTCASE 0
	CASE 0
		詳細文文字列受け渡し変数 = %CALLNAME:ターゲット番号%와 서로의%TEXTR("귀두/페니스 끝")%를 문지르고 있다
	ENDSELECT
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ELSEIF 処理モード == "写真用文字列_ターゲット"
	;モード固有の「～～をする」の文章を入れ込む
	SELECTCASE 0
	CASE 0
		詳細文文字列受け渡し変数 = %CALLNAME:プレイヤー番号%와 서로의%TEXTR("귀두/페니스 끝")%를 문지르고 있다
	ENDSELECT
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ENDIF

;0=ペニス 1=クリ 2=指（手） 3=口 4=胸 5=膣 6=アナル
SELECTCASE 部位番号
	CASE 部位_ペニス
		RETURN 部位状況_占有
	CASE 部位_アナル
		;尻は届かない
		RETURN 部位状況_届かない
ENDSELECT



@MODE_絶頂相手_素股(絶頂部位, 処理モード, 判定結果)
#FUNCTION
#DIM 絶頂部位
#DIMS 処理モード
#DIM REF 判定結果

IF 処理モード == "プレイヤー"
	IF 絶頂部位 == 部位_Ｃ
		判定結果 = 絶頂相手_自分
		RETURNF 絶頂相手_自分
	ENDIF
ELSEIF 処理モード == "ターゲット"
	IF 絶頂部位 == 部位_Ｃ
		判定結果 = 絶頂相手_モード相手
		RETURNF 絶頂相手_モード相手
	ENDIF
ENDIF


@MODE_絶頂相手_疑似性交(絶頂部位, 処理モード, 判定結果)
#FUNCTION
#DIM 絶頂部位
#DIMS 処理モード
#DIM REF 判定結果

IF 絶頂部位 == 部位_Ｃ
	判定結果 = 絶頂相手_モード相手
	RETURNF 絶頂相手_モード相手
ENDIF


@MODE_絶頂相手_貝合わせ(絶頂部位, 処理モード, 判定結果)
#FUNCTION
#DIM 絶頂部位
#DIMS 処理モード
#DIM REF 判定結果

IF 絶頂部位 == 部位_Ｃ
	判定結果 = 絶頂相手_モード相手
	RETURNF 絶頂相手_モード相手
ENDIF


@MODE_絶頂相手_兜合わせ(絶頂部位, 処理モード, 判定結果)
#FUNCTION
#DIM 絶頂部位
#DIMS 処理モード
#DIM REF 判定結果

IF 絶頂部位 == 部位_Ｃ
	判定結果 = 絶頂相手_モード相手
	RETURNF 絶頂相手_モード相手
ENDIF



@MESSAGE_MODE_素股解除(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

IF 対象キャラ番号 == MASTER
	PRINTFORML %CALLNAME:対象キャラ番号%은(는) %CALLNAME:実行キャラ番号%을(를) 멈추고, 사타구니에서 음경을 해방했다
ELSE
	PRINTFORML %CALLNAME:実行キャラ番号%은(는) 자신의 사타구니에서 %CALLNAME:対象キャラ番号%의 음경을 해방했다
ENDIF


@MESSAGE_MODE_疑似性交解除(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

PRINTFORML %CALLNAME:実行キャラ番号%은(는) %CALLNAME:対象キャラ番号%의 사타구니에서 음경을 해방했다


@MESSAGE_MODE_貝合わせ解除(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

PRINTFORML %CALLNAME:実行キャラ番号%은(는) 자신의 음순과 %CALLNAME:対象キャラ番号%의 음순을 떼어냈다


@MESSAGE_MODE_兜合わせ解除(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

PRINTFORML %CALLNAME:実行キャラ番号%은(는) 자신의 음경과 %CALLNAME:対象キャラ番号%의 음경을 떼어냈다
