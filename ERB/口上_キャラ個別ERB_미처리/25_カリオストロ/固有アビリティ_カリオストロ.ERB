@固有アビ_25_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIM 効果数値
#DIM 効果数値２
#DIM 効果成功率
#DIMS アビ名
#DIM Lv閾値 =  1, 13, 20, 33

IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:2
	アビ名 = コラプス＋＋
	消費ＭＰ = 45
	効果数値 = 120
	効果数値２ = 30
	効果成功率 = 100
	SIF 陥落チェック(キャラ番号) && 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3
		アビ名 = ニュークリアシンサシス
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:1
	アビ名 = コラプス＋
	消費ＭＰ = 35
	効果数値 = 120
	効果数値２ = 20
	効果成功率 = 100
ELSE
	アビ名 = コラプス
	消費ＭＰ = 20
	効果数値 = 80
	効果数値２ = 10
	効果成功率 = 80
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 소비 MP：{消費ＭＰ}
		詳細文文字列受け渡し変数 += @"<br>적 전체에게［공격력✕{効果数値}％］의 자속성 데미지를 준다."
		詳細文文字列受け渡し変数 += @"<br>［{効果数値２}％］（B칸・3턴）의 방어력 감소 효과를 준다. 성공률{効果成功率}％"
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3 && 陥落チェック(キャラ番号)
			詳細文文字列受け渡し変数 += @"<br>［1］의 슬로우 효과를 준다. 성공률{効果成功率}％"
		ENDIF
		詳細文文字列受け渡し変数 += @"<br>자속성 각인이 3 이상일 때, 1 소비하여 강화 효과를［1］소거, 2회 발동."
		RETURN 消費ＭＰ
	CASE "アビ効果"
	FOR LOCAL, 0, 1+(刻印現在数確認(属性刻印名())>2)
		CALL アビ対象選択テンプレート_敵全体_生者のみ
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_自属性
		アビ汎用変数:効果割合 = 効果数値２
		アビ汎用文字列:バフ・デバフ枠 = 방어력B
		アビ汎用文字列:バフ・デバフ対象能力 = 방어력
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:基礎成功確率 = 効果成功率
		CALL アビテンプレート_不利効果_デバフ効果セット
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3 && 陥落チェック(キャラ番号)
			アビ汎用変数:効果割合 = 0
			アビ汎用変数:効果量 = 1
			アビ汎用変数:基礎成功確率 = 効果成功率
			CALL アビテンプレート_不利効果_スロウ
		ENDIF
	NEXT
	IF 刻印現在数確認(属性刻印名()) > 2
		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ対象能力 = %属性刻印名()%
		CALL アビテンプレート_刻印減少(1)
	ENDIF
ENDSELECT
RETURN RESULT


@固有アビ_25_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 効果数値
#DIM 効果数値２
#DIMS 枠名 = "ファンタスマゴリア"
#DIM Lv閾値 =  5, 16, 24, 40

IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:2
	アビ名 = ファンタズマゴリア＋＋
	消費ＭＰ = 80
	効果数値 = 30
	効果数値２ = 25
	IF 陥落チェック(キャラ番号) && 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3
		アビ名 = ｱﾙｹｲﾅ・ｴﾎﾞﾘｭｰｼｮﾝ
		枠名 = ｱﾙｹｲﾅ・ｴﾎﾞﾘｭｰｼｮﾝ
	ENDIF
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:1
	アビ名 = ファンタズマゴリア＋
	消費ＭＰ = 70
	効果数値 = 30
	効果数値２ = 15
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:0
	アビ名 = ファンタズマゴリア
	消費ＭＰ = 50
	効果数値 = 20
ELSE
	アビ名 = 
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3 && 陥落チェック(キャラ番号)
			詳細文文字列受け渡し変数 = 소비 MP：{消費ＭＰ}<br>아군 전체에게（3턴・제거 불가）의%枠名%효과를 준다.
		ELSE
			詳細文文字列受け渡し変数 = 소비 MP：{消費ＭＰ}<br>아군 전체에게（3턴）의%枠名%효과를 준다.
		ENDIF
		SWAP TARGET, キャラ番号
		詳細文文字列受け渡し変数 += @"<br>［누적 1 최대 5］의%属性刻印名()%효과를 준다."
		SWAP TARGET, キャラ番号
		RETURN 消費ＭＰ
	CASE "アビ説明文_詳細"
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3 && 陥落チェック(キャラ番号)
			詳細文文字列受け渡し変数 = 소비 MP：{消費ＭＰ}<br>아군 전체에게（3턴・제거 불가）의%枠名%효과를 준다.
		ELSE
			詳細文文字列受け渡し変数 = 소비 MP：{消費ＭＰ}<br>아군 전체에게（3턴）의%枠名%효과를 준다.
		ENDIF
		詳細文文字列受け渡し変数 += @"<br>＞［{効果数値}％］의 공격력 상승 효과를 준다."
		詳細文文字列受け渡し変数 += @"<br>＞［{効果数値}％］의 방어력 상승 효과를 준다."
		詳細文文字列受け渡し変数 += @"<br>＞［{効果数値}％］의 DA율 상승 효과를 준다."
		詳細文文字列受け渡し変数 += @"<br>＞［{効果数値/2}％］의 TA율 상승 효과를 부여한다."
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:1
			詳細文文字列受け渡し変数 += @"<br>＞［{効果数値２*2}％］의 크리티컬율 상승 효과를 부여한다."
			詳細文文字列受け渡し変数 += @"<br>＞［{効果数値２+5}％］의 크리티컬 데미지율 상승 효과를 부여한다."
		ENDIF
		SIF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3 && 陥落チェック(キャラ番号)
			詳細文文字列受け渡し変数 += @"<br>（1회）의 디스펠 가드 효과를 부여한다."
		詳細文文字列受け渡し変数 += @"<br>［누적1 최대5］의%属性刻印名()%효과를 부여한다."
	CASE "アビ効果"
		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用文字列:バフ・デバフ枠 = %枠名%
		アビ汎用文字列:バフ・デバフ対象能力 = %枠名%
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:特殊表示オプション = 1
		SIF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3 && 陥落チェック(キャラ番号)
			アビ汎用変数:消去不可オプション = 1
		CALL アビテンプレート_有利効果_バフ効果セット


		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 効果数値
		アビ汎用文字列:バフ・デバフ枠 = 공격력_%枠名%
		アビ汎用文字列:バフ・デバフ対象能力 = 공격력
		CALL アビテンプレート_有利効果_付随バフ効果セット(枠名)

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 効果数値
		アビ汎用文字列:バフ・デバフ枠 = 방어력_%枠名%
		アビ汎用文字列:バフ・デバフ対象能力 = 방어력
		CALL アビテンプレート_有利効果_付随バフ効果セット(枠名)

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 効果数値
		アビ汎用文字列:バフ・デバフ枠 = DA율_%枠名%
		アビ汎用文字列:バフ・デバフ対象能力 = DA율
		CALL アビテンプレート_有利効果_付随バフ効果セット(枠名)

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 効果数値 / 2
		アビ汎用文字列:バフ・デバフ枠 = TA율_%枠名%
		アビ汎用文字列:バフ・デバフ対象能力 = TA율
		CALL アビテンプレート_有利効果_付随バフ効果セット(枠名)

		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:1
			CALL アビ汎用変数文字列リセット
			アビ汎用変数:効果量 = 効果数値２ * 2
			アビ汎用文字列:バフ・デバフ枠 = CT율_%枠名%
			アビ汎用文字列:バフ・デバフ対象能力 = 크리티컬율
			CALL アビテンプレート_有利効果_付随バフ効果セット(枠名)

			CALL アビ汎用変数文字列リセット
			アビ汎用変数:効果量 = 効果数値２ + 5
			アビ汎用文字列:バフ・デバフ枠 = CT배율_%枠名%
			アビ汎用文字列:バフ・デバフ対象能力 = 치명타 피해율
			CALL アビテンプレート_有利効果_付随バフ効果セット(枠名)
		ENDIF
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3 && 陥落チェック(キャラ番号)
			CALL アビ汎用変数文字列リセット
			アビ汎用文字列:バフ・デバフ枠 = 디스펠 가드_%枠名%
			アビ汎用文字列:バフ・デバフ対象能力 = 디스펠 가드
			アビ汎用変数:持続回数 = 1
			CALL アビテンプレート_有利効果_付随バフ効果セット(枠名)
		ENDIF

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用文字列:バフ・デバフ対象能力 = %属性刻印名()%
		CALL アビテンプレート_刻印追加(1)
ENDSELECT
RETURN RESULT

@バフ・デバフ特殊表示_ファンタスマゴリア(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
VARSET LOCAL
LOCAL = バフ番号取得_枠("CT率_ファンタスマゴリア", 隊列番号)
PRINTFORML 판타스마고리아
PRINTFORML 공격력・방어력・DA율・TA율\@ LOCAL > -1 ? ・치명타율・치명타 피해 # \@이(가) 상승한 상태
PRINTFORML 지속 턴: {DT_CELL_GET("戦闘効果データベース", バフ・デバフ行数, "持続ターン")}

@バフ・デバフ特殊表示_ｱﾙｹｲﾅ・ｴﾎﾞﾘｭｰｼｮﾝ(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
VARSET LOCAL
LOCAL = バフ番号取得_枠("ディスペルガード_ｱﾙｹｲﾅ・ｴﾎﾞﾘｭｰｼｮﾝ", 隊列番号)
SIF LOCAL > -1
	LOCAL:1 = DT_CELL_GET("戦闘効果データベース", LOCAL, "持続回数")
PRINTFORML 아르카나 에볼루션
PRINTFORML 공격력・방어력・DA율・TA율・치명타율・치명타 피해가 상승하며
PRINTFORML 디스펠을 1회 무효화하는 상태
PRINTFORM 지속 턴: {DT_CELL_GET("戦闘効果データベース", バフ・デバフ行数, "持続ターン")}턴
PRINTFORML  / 디스펠 가드 횟수: 남은 {LOCAL:1}회

@固有アビ_25_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIM 効果数値
#DIM 効果成功率
#DIMS アビ名
#DIM Lv閾値 = 8, 18, 29, 42

IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:2
	アビ名 = リーンフォース＋＋
	効果数値 = 80
	消費ＭＰ = 50
	SIF 陥落チェック(キャラ番号) && 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3
		アビ名 = ネフシュタン
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:1
	アビ名 = リーンフォース＋
	効果数値 = 60
	消費ＭＰ = 35
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:0
	アビ名 = リーンフォース
	効果数値 = 35
	消費ＭＰ = 20
ELSE
	アビ名 = 
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 소비 MP: {消費ＭＰ}<br>아군 전체에게 [회복력✕{効果数値}％]의 HP 회복을 부여한다.
		SIF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:1
			詳細文文字列受け渡し変数 += "<br>[1]의 디버프 제거를 부여한다."
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3 && 陥落チェック(キャラ番号)
			詳細文文字列受け渡し変数 += "<br>[회복력✕10％(상한 150)](고유 프레임・7턴)의 재생 효과를 부여한다."
			詳細文文字列受け渡し変数 += "<br>［100％］（고유 프레임・1회）의 피격 대미지 감소 효과를 부여한다."
		ENDIF
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_回復処理_MAXでも回復
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:1
			CALL アビテンプレート_有利効果_デバフ消去
		ENDIF
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= Lv閾値:3 && 陥落チェック(キャラ番号)
			アビ汎用文字列:バフ・デバフ枠 = 재생_네프슈탄
			アビ汎用文字列:バフ・デバフ対象能力 = 재생
			アビ汎用変数:効果割合 = 0
			CALL バフ込み数値算出("回復力")
			アビ汎用変数:効果量 = MIN(RESULT * 10 / 100, 150)
			アビ汎用変数:持続ターン = 7
			CALL アビテンプレート_有利効果_バフ効果セット
			アビ汎用文字列:バフ・デバフ枠 = 피격 무효_네프슈탄
			アビ汎用文字列:バフ・デバフ対象能力 = 피격 대미지
			アビ汎用変数:効果割合 = 100
			アビ汎用変数:効果量 = 0
			アビ汎用変数:持続回数 = 1
			CALL アビテンプレート_有利効果_バフ効果セット
		ENDIF
ENDSELECT
RETURN RESULT

@固有アビ_25_11(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 隊列番号
隊列番号 = キャラ隊列検索(キャラ番号)

IF !TALENT:キャラ番号:恋慕 || 基礎BATTLE_STATE:キャラ番号:Lv < 43
	アビ名 = 
ELSE
	アビ名 = アルス・グローリア
	IF キャラ隊列検索(GETCHARA(25)) < 0
		消費ＭＰ = 基礎BATTLE_STATE:キャラ番号:最大ＭＰ / 10
	ELSE
		消費ＭＰ = BATTLE_STATE:キャラ隊列検索(GETCHARA(25)):最大ＭＰ / 10
	ENDIF
ENDIF

SIF 隊列番号 > -1 && 戦闘中カウント:隊列番号:0
	アビテンプレート用_アビ封印用フラグ = 1

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 소비ＭＰ：{消費ＭＰ}(최대ＭＰ의 １０％)
		詳細文文字列受け渡し変数 += "<br>아군 전체에게 (삭제 불가)의 이터널 우로보로스 효과를 부여한다."
		詳細文文字列受け渡し変数 += "<br>이 어빌리티는 1전투 중 1회만 사용할 수 있다."
		RETURN 消費ＭＰ
	CASE "アビ説明文_詳細"
		詳細文文字列受け渡し変数 = 소비ＭＰ：{消費ＭＰ}(최대ＭＰ의 １０％)
		詳細文文字列受け渡し変数 += "<br>아군 전체에게 (삭제 불가) 이터널 우로보로스 효과를 부여한다."
		詳細文文字列受け渡し変数 += "<br>＞［100％］의 DA율 상승 효과를 부여한다."
		詳細文文字列受け渡し変数 += "<br>＞［30％］의 TA율 상승 효과를 부여한다."
		詳細文文字列受け渡し変数 += "<br>＞［100％］의 오의 대미지 상승 효과를 부여한다."
		詳細文文字列受け渡し変数 += "<br>＞<b>［35％］의 오의 게이지 상승 효율<font color='#FF3030'>감소</font>효과를 부여한다。</b>"
		詳細文文字列受け渡し変数 += "<br>이 어빌리티는 1전투 중 1회만 사용할 수 있다."
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用文字列:バフ・デバフ枠 = 이터널 우로보로스
		アビ汎用文字列:バフ・デバフ対象能力 = 이터널 우로보로스
		アビ汎用変数:持続ターン = -1
		アビ汎用変数:消去不可オプション = 1
		アビ汎用変数:特殊表示オプション = 1
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 100
		アビ汎用文字列:バフ・デバフ枠 = DA율_ｴﾀｰﾅﾙｳﾛﾎﾞﾛｽ
		アビ汎用文字列:バフ・デバフ対象能力 = DA율
		CALL アビテンプレート_有利効果_付随バフ効果セット("エターナル・ウロボロス")

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 30
		アビ汎用文字列:バフ・デバフ枠 = TA率_ｴﾀｰﾅﾙｳﾛﾎﾞﾛｽ
		アビ汎用文字列:バフ・デバフ対象能力 = TA率
		CALL アビテンプレート_有利効果_付随バフ効果セット("エターナル・ウロボロス")

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 100
		アビ汎用文字列:バフ・デバフ枠 = 奥義D_ｴﾀｰﾅﾙｳﾛﾎﾞﾛｽ
		アビ汎用文字列:バフ・デバフ対象能力 = ダメージ補正_奥義ダメージ
		CALL アビテンプレート_有利効果_付随バフ効果セット("エターナル・ウロボロス")

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 35
		アビ汎用文字列:バフ・デバフ枠 = GE率_ｴﾀｰﾅﾙｳﾛﾎﾞﾛｽ
		アビ汎用文字列:バフ・デバフ対象能力 = ゲージ上昇効率
		CALL アビテンプレート_不利効果_付随デバフ効果セット("エターナル・ウロボロス")

		戦闘中カウント:キャラ隊列検索(GETCHARA(25)):0 = 1
ENDSELECT
RETURN RESULT

@バフ・デバフ特殊表示_エターナル・ウロボロス(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
VARSET LOCAL
PRINTL 이터널 우로보로스
HTML_PRINT "DA율・TA率・奥義ダメージが上昇しているが、<b>奥義ゲージの上昇量が<font color='#FF3030'>減少</font>した状態</b>（永続・消去不可）"
PRINTL

@固有アビ_25_12(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 判定値
#DIM CONST 使用可能ターン = 40

IF !TALENT:キャラ番号:恋慕 || 基礎BATTLE_STATE:キャラ番号:Lv < 43
	アビ名 = 
ELSE
	アビ名 = エンデュミオン
	IF キャラ隊列検索(GETCHARA(25)) < 0
		消費ＭＰ = 基礎BATTLE_STATE:キャラ番号:最大ＭＰ / 2
	ELSE
		消費ＭＰ = BATTLE_STATE:キャラ隊列検索(GETCHARA(25)):最大ＭＰ / 2
	ENDIF
ENDIF
IF キャラ隊列検索(GETCHARA(25)) > -1
	判定値 = 探索中全体カウント:累積ターン数 + 現在ターン数
	FOR LOCAL, 0, 10
		判定値 += 戦闘中カウント:LOCAL:奥義回数 + 探索中カウント:LOCAL:奥義回数
	NEXT
	SIF 探索中カウント:キャラ隊列検索(GETCHARA(25)):2 || 判定値 < 使用可能ターン
		アビテンプレート用_アビ封印用フラグ = 1
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 소비 MP:{消費ＭＰ}(최대 MP의 50％) 아군 전체가 웨폰 버스트 효과를 부여한다.
		詳細文文字列受け渡し変数 += "<br>［전체 회복］의 MP 회복을 부여한다."
		詳細文文字列受け渡し変数 += "<br>［100％］（고유 프레임）의 자동 부활 효과를 부여한다."
		詳細文文字列受け渡し変数 += @"<br>이 어빌리티는 탐색 중 누적 턴 수 + 파티 전체의 오의 발동 횟수가{使用可能ターン}（현재{判定値}） 이상일 때 사용할 수 있다."
		詳細文文字列受け渡し変数 += "<br><b>이 어빌리티는 1탐색 중 1회만 사용할 수 있다</b>."
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		CALL アビテンプレート_有利効果_ウェポンバースト

		アビ汎用変数:効果割合 = 10000
		CALL アビテンプレート_ＭＰ回復処理(1)

		アビ汎用変数:消去不可オプション = 1
		アビ汎用文字列:バフ・デバフ枠 = 엔디미온
		アビ汎用変数:効果割合 = 100
		アビ汎用文字列:バフ・デバフ対象能力 = 자동 부활
		CALL アビテンプレート_有利効果_バフ効果セット

		;アビ効果→MP消費の順に適応されるため、カリオストロのMPが半分になるのを防ぐため消費を0に
		消費MP一時保存 = 0
		探索中カウント:キャラ隊列検索(GETCHARA(25)):2 = 1
ENDSELECT
RETURN RESULT

@固有アビ_25_13(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 判定値

IF !TALENT:キャラ番号:恋慕 || 基礎BATTLE_STATE:キャラ番号:Lv < 43
	アビ名 = 
ELSE
	アビ名 = ロード・トゥ・ジオメトリ
	IF キャラ隊列検索(GETCHARA(25)) < 0
		消費ＭＰ = 基礎BATTLE_STATE:キャラ番号:最大ＭＰ / 20
	ELSE
		消費ＭＰ = BATTLE_STATE:キャラ隊列検索(GETCHARA(25)):最大ＭＰ / 20
	ENDIF
ENDIF

IF キャラ隊列検索(GETCHARA(25)) > -1
	判定値 = ( 戦闘中カウント:キャラ隊列検索(GETCHARA(25)):1 ? MAX(0, 6 + 戦闘中カウント:キャラ隊列検索(GETCHARA(25)):1 - 現在ターン数) # 0)
	SIF 判定値
		アビテンプレート用_アビ封印用フラグ = 1
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 소비 MP：{消費ＭＰ}(최대 MP의 5％)
		詳細文文字列受け渡し変数 += "<br>적 전체에게 (6턴・삭제 불가)의 로드 투 지오메트리 효과를 부여한다."
		詳細文文字列受け渡し変数 += @"<br>이 어빌리티는 [6턴]의 CD가 발생한다."
		SIF 判定値 > 0
			詳細文文字列受け渡し変数 += @"남은{判定値}턴."
		RETURN 消費ＭＰ
	CASE "アビ説明文_詳細"
		詳細文文字列受け渡し変数 = 소비 MP：{消費ＭＰ}(최대 MP의 5％)
		詳細文文字列受け渡し変数 += "<br>적 전체에게 (6턴・삭제 불가)의 로드 투 지오메트리 효과를 부여한다. 성공률 200％."
		詳細文文字列受け渡し変数 += "<br>＞[100％]의 DA율 감소 효과를 부여한다."
		詳細文文字列受け渡し変数 += "<br>＞[100％]의 TA율 감소 효과를 부여한다."
		詳細文文字列受け渡し変数 += "<br>＞[30％]의 명중률 감소 효과를 부여한다."
		詳細文文字列受け渡し変数 += "<br> [100％] (1턴・삭제 불가・약체 내성 관통)의 봉인 효과를 부여한다."
		詳細文文字列受け渡し変数 += @"<br>이 어빌리티는 [6턴]의 CD가 발생한다."
		SIF 判定値 > 0
			詳細文文字列受け渡し変数 += @"남은{判定値}턴."
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵全体_生者のみ
		アビ汎用文字列:バフ・デバフ枠 = 로드 투 지오메트리
		アビ汎用文字列:バフ・デバフ対象能力 = 로드 투 지오메트리
		アビ汎用変数:基礎成功確率 = 200
		アビ汎用変数:持続ターン = 6
		アビ汎用変数:消去不可オプション = 1
		アビ汎用変数:特殊表示オプション = 1
		CALL アビテンプレート_不利効果_デバフ効果セット

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 100
		アビ汎用文字列:バフ・デバフ枠 = DA율_RtoG
		アビ汎用文字列:バフ・デバフ対象能力 = DA율
		CALL アビテンプレート_不利効果_付随デバフ効果セット("ロード・トゥ・ジオメトリ")

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 100
		アビ汎用文字列:バフ・デバフ枠 = TA率_RtoG
		アビ汎用文字列:バフ・デバフ対象能力 = TA率
		CALL アビテンプレート_不利効果_付随デバフ効果セット("ロード・トゥ・ジオメトリ")

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 30
		アビ汎用文字列:バフ・デバフ枠 = 命中率_RtoG
		アビ汎用文字列:バフ・デバフ対象能力 = 命中率
		CALL アビテンプレート_不利効果_付随デバフ効果セット("ロード・トゥ・ジオメトリ")

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:弱体耐性貫通オプション = 1
		アビ汎用変数:持続ターン = 1
		アビ汎用変数:消去不可オプション = 1
		アビ汎用変数:効果量 = 0
		アビ汎用変数:効果割合 = 100
		アビ汎用文字列:バフ・デバフ枠 = 封印_ロード・トゥ・ジオメトリ
		アビ汎用文字列:バフ・デバフ対象能力 = 封印
		CALL アビテンプレート_不利効果_デバフ効果セット

		戦闘中カウント:キャラ隊列検索(GETCHARA(25)):1 = 現在ターン数
ENDSELECT
RETURN RESULT

@バフ・デバフ特殊表示_ロード・トゥ・ジオメトリ(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
VARSET LOCAL
PRINTFORML 로드 투 지오메트리
PRINTFORML DA율・TA율・명중률이 감소한 상태
PRINTFORML 지속 턴: {DT_CELL_GET("戦闘効果データベース", バフ・デバフ行数, "持続ターン")}턴
