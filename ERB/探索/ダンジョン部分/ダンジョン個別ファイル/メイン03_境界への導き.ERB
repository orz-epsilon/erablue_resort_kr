
@ダンジョン初期処理_境界への導き
;ダンジョン構造の読み込み
;0でない時、そのマスは存在する
#DIM 深度
#DIM 分岐

ダンジョンサブタイトル = GUIDE TO THE BOUNDARY
ダンジョンマス画像URL_伏せ状態 = 壁_暗雲
ダンジョン現在位置:0 = 0
ダンジョン現在位置:1 = 4
ダンジョン背景画像 = 背景_暗雲

;スタート地点は必ず存在
;初期からオープン済みなので3を入れる
;ビット0：存在するか　ビット1：移動できるか　ビット2：マスをオープンするか（ビット１をONにしないと無意味）　ビット3：入れないがオープンする場合に使用
;ビット4以降：自由枠。主に宝箱の開閉やイベント達成フラグなどに使用
IF GETVAR(@"ダンジョン構造配列_%ダンジョン名%:{ダンジョン現在位置:0}:{ダンジョン現在位置:1}") == 0
	SETVAR @"ダンジョン構造配列_%ダンジョン名%:{ダンジョン現在位置:0}:{ダンジョン現在位置:1}", 3
ENDIF

FOR 深度, 1, 100
	LOCAL = 0
	FOR 分岐, 0, 9
		IF GETVAR(@"ダンジョン構造配列_%ダンジョン名%:{深度}:{分岐}")
			;既にマス情報が入ってるなら飛ばす
			LOCAL = 1
			CONTINUE
		ELSEIF ENUMFUNCBEGINSWITH(@"ダンジョンマス情報_%ダンジョン名%_{深度}_{分岐}")
			LOCAL = 1
			SETVAR @"ダンジョン構造配列_%ダンジョン名%:深度:分岐", 1
		ENDIF
	NEXT
	IF LOCAL
		ダンジョン最大深度 = 深度
	ENDIF
NEXT

@ダンジョン解説文_境界への導き

詳細文文字列受け渡し変数 = 
詳細文文字列受け渡し変数 += "별의 백성 타피라에게 수여받은 크리스탈에 이끌려 방문한 이상한 공간. <br>"
詳細文文字列受け渡し変数 += "강력한 마물이 서식하고 있지만, 크리스탈의 지시대로 나아가면 전투 없이 빠져나갈 수 있을 것이다. <br>"
詳細文文字列受け渡し変数 += "혹은, 굳이 길을 벗어나면 귀중한 아이템을 손에 넣을 수 있을지도 모른다. <br>"

;推奨レベルを返す
RETURN 35



@敵討伐後処理_ダンジョン固有_境界への導き(討伐エネミー数)
;ダンジョン内で戦闘した後に呼ばれる関数、主にダンジョンごとのドロップアイテム取得に使用
;まだ敵データはリセットしていないので敵BATTLE_STATEで色々情報は取得可能
#DIM 討伐エネミー数
#DIM ドロップ確率
#DIMS ドロップアイテム

ドロップ確率 = 3 * 討伐エネミー数
ドロップアイテム = 星晶の欠片
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 3
ドロップアイテム = 星晶塊
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 5 * 討伐エネミー数
ドロップアイテム = 星晶の欠片
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 1 * 討伐エネミー数
ドロップアイテム = 白銀の古紋
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

;---------------------------------------------------------------------
;マップ構造
;---------------------------------------------------------------------
;上と下に分かれているマップ
;ただ下はほぼ行き止まりなので実質一本道
;---------------------------------------------------------------------

@ダンジョンマス情報_境界への導き_0_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 0
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "4_4")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈의 인도에 따라 기공정을 날려, 특정 좌표에서 고도를 아슬아슬하게 낮춘다.
			WSTR:(K++) = 그러자, 주위 풍경이 신기하게 번지고──정신을 차렸을 때는 기묘한 공간에 나와 있었다.
			KSTR:(K++) = 상하좌우가 구름으로 뒤덮여 있다. 하늘 세계도%HTML_用語解説("赤き地平")%아닌……수수께끼의 공간이다._PAGE
			WSTR:(K++) = ……주위를 둘러보니, 후방에 공간의 왜곡 같은 것이 보인다.
			WSTR:(K++) = 아무래도 원래 장소로 돌아가는 것은 가능한 것 같다.
			WSTR:(K++) = 크리스탈은 공간의 안쪽을 가리키고 있다. 앞으로 나아가 보자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 여기는 하늘 세계도%HTML_用語解説("赤き地平")%아닌, 이상한 공간인 것 같다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT





@ダンジョンマス情報_境界への導き_4_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 4
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(12, 4)
		ENDIF
		ダンジョン現在位置:0 = 12
		ダンジョン現在位置:1 = 4
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 공간을 기공정으로 나아간다.
			WSTR:(K++) = 주위 풍경에 전혀 변화가 없어, 가만히 응시하고 있으면 상하좌우의 감각마저 사라져 버릴 것 같다.
			WSTR:(K++) = 크리스탈은<font color='#%カラーパレット_HTML("黄")%'>↑↑←↓</font>라고 방향을 가리키고 있다.
			WSTR:(K++) = 이 인도에 따르면 무사히 나아갈 수 있을 것이다. 반면, 다른 길로 나아가면 길을 잃고 원래 장소로 돌아가 버릴지도 모른다.
			WSTR:(K++) = 조심해서 나아가자.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
ENDSELECT







@ダンジョンマス情報_境界への導き_10_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_4")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 無限ループ踏破フラグ == 2
			;正解ルート
			ダンジョン現在位置:0 = 14
			ダンジョン現在位置:1 = 4
			無限ループ踏破フラグ ++
		ELSEIF 無限ループ踏破フラグ >= 4
			;踏破済み
			ダンジョン現在位置:0 = 4
			ダンジョン現在位置:1 = 4
		ELSE
			;不正解ルート
			ダンジョン現在位置:0 = 4
			ダンジョン現在位置:1 = 4
			無限ループ踏破フラグ = 0
WSTR:(K++) = 원래 장소로 돌아와 버렸다…… 길을 잘못 든 것 같다. 다시 한번 나아가 보자.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_境界への導き_12_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 無限ループ踏破フラグ < 2
			;正解ルート
			ダンジョン現在位置:0 = 12
			ダンジョン現在位置:1 = 7
			無限ループ踏破フラグ ++
		ELSEIF 無限ループ踏破フラグ < 4
			;不正解ルート
			ダンジョン現在位置:0 = 4
			ダンジョン現在位置:1 = 4
			無限ループ踏破フラグ = 0
WSTR:(K++) = 원래 장소로 돌아와 버렸다…… 길을 잘못 든 것 같다. 다시 한번 나아가 보자.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ELSE
			;踏破済み
			ダンジョン現在位置:0 = 16
			ダンジョン現在位置:1 = 1
		ENDIF
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_12_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_1")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_7")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "14_4")
	CASE "マスイベント"
		IF 無限ループ踏破フラグ < 4
			;条件未達
			SELECTCASE 無限ループ踏破フラグ
				CASE 0
					LOCALS = <font color='#%カラーパレット_HTML("真っ赤")%'>↑</font>↑←↓
				CASE 1
					LOCALS = ↑<font color='#%カラーパレット_HTML("真っ赤")%'>↑</font>←↓
				CASE 2
					LOCALS = ↑↑<font color='#%カラーパレット_HTML("真っ赤")%'>←</font>↓
				CASE 3
					LOCALS = ↑↑←<font color='#%カラーパレット_HTML("真っ赤")%'>↓</font>
			ENDSELECT
KSTR:(K++) = 크리스탈은%LOCALS%이라고 가리키고 있다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
KSTR:(K++) = 이미 이곳의 공역은 돌파 완료다. 왼쪽으로 가면 원래 장소로, 그 외의 길로 나아가면 앞으로 나아갈 수 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_12_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること

		IF 無限ループ踏破フラグ == 3
			;正解ルート
			ダンジョン現在位置:0 = 16
			ダンジョン現在位置:1 = 1
			CALL 接続ルート全開放処理(16, 1)
			CALL 踏破マス開放処理
			CALL 画面再描画
			無限ループ踏破フラグ ++
WSTR:(K++) = 주위의 분위기가 바뀌었다. 아무래도 앞으로 나아갈 수 있었던 것 같다.
WSTR:(K++) = 기류를 읽으면, 나아갈 수 있을 것 같은 길은 몇 군데 있지만…… 크리스탈이 가리키는 길 외에서는, 묘한 분위기를 느낀다.
KSTR:(K++) = 길을 벗어나면<font color='#%カラーパレット_HTML("黄")%'>강한 적이 덮쳐올</font>것 같은 분위기다。_PAGE
WSTR:(K++) = 반면, 강한 마력도 느낀다. 운이 좋으면<font color='#%カラーパレット_HTML("黄")%'>좋은 아이템을 획득</font>할 수 있을지도 모른다.
WSTR:(K++) = 크리스탈을 따라 안전하게 나아갈까, 위험을 감수하고 길을 벗어날까…… 잘 생각하고 나아가자.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化

		ELSEIF 無限ループ踏破フラグ >= 4
			;踏破済み
			ダンジョン現在位置:0 = 16
			ダンジョン現在位置:1 = 1
		ELSE
			;不正解ルート
			ダンジョン現在位置:0 = 4
			ダンジョン現在位置:1 = 4
			無限ループ踏破フラグ = 0
WSTR:(K++) = 원래 장소로 돌아와 버렸다…… 길을 잘못 든 것 같다. 다시 한번 나아가 보자.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_境界への導き_14_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 14
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 無限ループ踏破フラグ >= 4
			;踏破済み
			ダンジョン現在位置:0 = 16
			ダンジョン現在位置:1 = 1
		ELSE
			;不正解ルート
			ダンジョン現在位置:0 = 4
			ダンジョン現在位置:1 = 4
			無限ループ踏破フラグ = 0
WSTR:(K++) = 원래 장소로 돌아와 버렸다…… 길을 잘못 든 것 같다. 다시 한번 나아가 보자.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_境界への導き_16_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 16
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "17_1")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 14
		ダンジョン現在位置:1 = 4
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_17_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 17
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "19_0")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "19_1")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "19_2")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
WSTR:(K++) = 크리스탈은「↑」을(를) 가리키고 있다.
WSTR:(K++) = 바람의 흐름을 읽는 한, 3개의 루트로 나아갈 수 있을 것 같지만……。
WSTR:(K++) = 어쨌든, 앞으로 나아가 보자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
KSTR:(K++) = 크리스탈은「↑」을(를) 가리키고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_18_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
WSTR:(K++) = 크리스탈의 인도에 거역하여 주변 탐색을 시작한다.
WSTR:(K++) = 언뜻 보기에는 그저 구름과 폭풍의 세계처럼 보이지만, 가끔 어떤 잔해가 떠다니는 경우가 있다.
KSTR:(K++) = 우발적으로 이 세계에 떨어져 버린 물품의 최후일까._PAGE
WSTR:(K++) = 잔해 속에서 비교적 형태를 유지하고 있는 것들을 몇 개 주워본다.
WSTR:(K++) = 역시 대부분은 열화되어 부서져 버린 것들이지만……하나만 제대로 된 물건이 남아 있었다.
WSTR:(K++) = 아무래도 직업 증명서인 것 같다. 다소 낡았지만 아직 문제없이 사용할 수 있을 것 같다.
KSTR:(K++) = 언제 어디서 떨어져 나온 물건인지도 모른다. 주워 버려도 상관없을 것이다._PAGE
WSTR:(K++) = %CALLNAME:MASTER%들은 「댄서의 증표」를 손에 넣었다!
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			CALL 汎用証取得処理("ダンサーの証")	
		ELSE
KSTR:(K++) = 더 이상 눈에 띄는 것은 아무것도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_18_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "21_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "21_7")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "21_8")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
WSTR:(K++) = 크리스탈은 「→」를 가리키고 있다.
WSTR:(K++) = 조금 먼 풍경이 일그러져 보인다. 출구는 저쪽인 것 같지만, 근처 지역은 이제 빠져나갈 수 있을 것 같다.
WSTR:(K++) = 이대로 크리스탈을 따라 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
KSTR:(K++) = 크리스탈은 「→」를 가리키고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_19_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 19
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "22_4")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
WSTR:(K++) = 크리스탈의 인도에 따라 기묘한 공간을 나아간다.
WSTR:(K++) = 주변에서는 적대적인 분위기가 느껴지지만, 마물의 모습은 보이지 않는다.
			WSTR:(K++) = 크리스탈은 서식지를 잘 피하는 루트를 택하고 있는 것 같다.
			WSTR:(K++) = 이대로 계속 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 주변에서 적대적인 분위기가 느껴진다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_19_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 19
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 주변에서 강한 살기가 느껴진다……
			WSTR:(K++) = 여기는 크리스탈의 인도에서 벗어난 길이다! 이형의 괴물들이 너희를 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 이형들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 바깥 던전보다 강한 마물들이 서식하고 있는 것 같다. 길을 벗어나지 않도록 조심해서 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@エネミーランダム登録_境界への導き()
SELECTCASE RAND:8
	CASE 0
		敵BATTLE_STATE_STR:0:エネミー名 = Lv35_엠프티 코어α
		敵BATTLE_STATE_STR:3:エネミー名 = Lv35_엠프티 코어α
	CASE 1
		敵BATTLE_STATE_STR:0:エネミー名 = Lv35_엠프티 코어α
		敵BATTLE_STATE_STR:3:エネミー名 = Lv35_엠프티 코어α
		敵BATTLE_STATE_STR:4:エネミー名 = Lv35_엠프티 코어α
	CASE 2
		敵BATTLE_STATE_STR:0:エネミー名 = Lv35_엠프티 코어β
		敵BATTLE_STATE_STR:1:エネミー名 = Lv35_엠프티 코어β
		敵BATTLE_STATE_STR:4:エネミー名 = Lv35_엠프티 코어β
		敵BATTLE_STATE_STR:5:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:6:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:7:エネミー名 = Lv35_エンプティ・コアβ
	CASE 3
		敵BATTLE_STATE_STR:1:エネミー名 = Lv35_エンプティ・コアα
		敵BATTLE_STATE_STR:4:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:5:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:6:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:7:エネミー名 = Lv35_エンプティ・コアβ
	CASE 4
		敵BATTLE_STATE_STR:3:エネミー名 = Lv35_エンプティ・コアγ
	CASE 5
		敵BATTLE_STATE_STR:1:エネミー名 = Lv35_エンプティ・コアα
		敵BATTLE_STATE_STR:3:エネミー名 = Lv35_エンプティ・コアγ
	CASE 6
		敵BATTLE_STATE_STR:1:エネミー名 = Lv35_エンプティ・コアα
		敵BATTLE_STATE_STR:3:エネミー名 = Lv35_エンプティ・コアα
		敵BATTLE_STATE_STR:5:エネミー名 = Lv35_エンプティ・コアα
	CASE 7
		敵BATTLE_STATE_STR:0:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:1:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:3:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:5:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:7:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:8:エネミー名 = Lv35_エンプティ・コアβ
		敵BATTLE_STATE_STR:9:エネミー名 = Lv35_エンプティ・コアβ
ENDSELECT

@ダンジョンマス情報_境界への導き_19_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 19
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_3")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 주변에서 강한 살기가 느껴진다……
			WSTR:(K++) = 이곳은 크리스탈의 인도에서 벗어난 길이다! 이형의 괴물들이 너희를 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 이형들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 이곳은 올바른 길에서 벗어나 있지만……조금 더 안쪽으로 이동할 수 있을 것 같다.
				WSTR:(K++) = 또 마물이 나올지도 모르지만, 뭔가 좋은 아이템이 있을지도 모른다. 탐색할 경우에는 조심해서 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_20_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 20
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈의 인도를 벗어난 길로 와봤지만……주변에는 대량의 잡동사니가 떠다니고 있다.
			WSTR:(K++) = 아무래도 기류 때문에 표류물이 쌓이기 쉬운 장소인 것 같다.
			WSTR:(K++) = 대부분은 쓰레기뿐이지만……쓸 만한 도구가 가득 찬 상자를 발견했다!
			WSTR:(K++) = 조금 낡았지만, 문제없이 쓸 수 있을 것 같다. 감사히 받아가자.
			WSTR:(K++) = %CALLNAME:MASTER%들은 「디스펠 허브」를 3개 손에 넣었다!
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			CALL アイテム増減汎用処理("ディスペルハーブ", 3)
		ELSE
			KSTR:(K++) = 주변에는 잡동사니가 떠다닌다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_20_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 20
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 주위에서 강한 살기가 느껴진다…….`
			WSTR:(K++) = 이곳은 크리스탈의 인도에서 벗어난 길이다! 이형의 괴물들이 너희를 습격해 온다!
			CALL メッセージ欄表示用関数(,,,0)
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 이형들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 바깥 던전보다 강한 마물이 서식하고 있는 것 같다. 길을 벗어나지 않도록 조심해서 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_20_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 20
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 배가 나아가는 길은 기묘하게 조용하다.
			WSTR:(K++) = 가끔 불안해질 정도의 평온함이지만, 지금으로서는 크리스탈의 인도에 틀림없다.
			WSTR:(K++) = 이런 곳은 빨리 벗어나는 것이 상책이다. 이대로 나아가자
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 배가 나아가는 길은 기묘하게 조용하다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_21_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 21
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈의 인도에서 벗어나 보니, 이형의 괴물과 조우했다!
			WSTR:(K++) = ……라고 생각했지만, 아무래도 사고나 뭔가로 이미 숨이 끊어진 것 같다.
			WSTR:(K++) = 주위에 반짝반짝, 괴물에게서 드롭된 듯한 성정의 조각이 흩날리고 있다.
			WSTR:(K++) = 내버려 두기에는 아깝다. 쓸 만한 것은 가져가자.
			WSTR:(K++) = %CALLNAME:MASTER%들은 「성정의 조각」을 2개 손에 넣었다!
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			CALL 素材入手処理("星晶の欠片", 2)
		ELSE
			KSTR:(K++) = 이형의 괴물이 숨을 거두고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_21_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 21
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "23_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 분기가 뒤얽힌 지역은 이걸로 빠져나온 것 같다.
			WSTR:(K++) = 갈 길은 아직 멀어 보이지만, 주변의 공기감이 변했다.
			WSTR:(K++) = 목적지에 도착하는 것도 멀지 않을 것이다. 이대로 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 분기가 뒤얽힌 지역은 이걸로 빠져나온 것 같다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_21_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 21
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "22_8")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 주변에서 강한 살기를 느낀다……
			WSTR:(K++) = 여기는 크리스탈의 인도에서 벗어난 길이다! 이형의 괴물들이 너희를 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 이형들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 여기는 올바른 길에서 벗어나 있지만……조금 더 안쪽까지 이동할 수 있을 것 같다.
				WSTR:(K++) = 또 마물이 나올지도 모르지만, 뭔가 좋은 아이템이 있을지도 모른다. 탐색할 경우에는 조심해서 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_22_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 22
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "20_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "20_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "20_5")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈은 「↓」을 가리키고 있다.
			WSTR:(K++) = 여기서도 3개의 루트로 나아갈 수 있을 것 같다. 현재로서는 크리스탈이 가리키는 길은 올바른 것 같지만……
			WSTR:(K++) = 이런 아이템을 만들 수 있다니, 역시 %HTML_用語解説("星の民")%의 기술력은 엄청나다.
			WSTR:(K++) = 리조트 운영에 뭔가 도움이 되지 않을까……아니, 생각하는 건 나중으로 미루고 지금은 먼저 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 크리스탈은 「↓」을 가리키고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_22_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 22
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
WSTR:(K++) = 크리스탈의 인도를 벗어난 길로 와봤지만…… 부서져 구멍이 뚫린 새빨간 기공선이 떠 있다.
			WSTR:(K++) = 내부에 사람의 흔적은 없다. 부서진 후 이 공간에 삼켜진 것일까.
			WSTR:(K++) = 짐도 텅 비어있고, 특별히 쓸 만한 것은 없다. 탐색으로 돌아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 부서져 구멍이 뚫린 새빨간 기공선이 떠 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_23_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 23
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		IF 初来訪マス判定用フラグ
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(25, 0)
		ENDIF
		ダンジョン現在位置:0 = 25
		ダンジョン現在位置:1 = 0
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_24_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 24
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 주변에서 강한 살기가 느껴진다……。
			WSTR:(K++) = 여기는 크리스탈의 인도에서 벗어난 길이다! 이형의 괴물들이 너희를 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 이형들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 바깥 던전보다 강한 마물이 서식하고 있는 것 같다. 길을 벗어나지 않도록 조심해서 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_25_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 25
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "30_2")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 23
		ダンジョン現在位置:1 = 7
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_25_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 25
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈의 인도를 벗어나 주변을 탐색하고 있는데, 갑자기 갑판에 거대한 물고기가 돌진해 왔다!!
			WSTR:(K++) = 날뛰는 물고기를 어떻게든 배에서 떨어뜨리자, 그대로 바람을 타고 어딘가로 헤엄쳐 갔다……。
			WSTR:(K++) = 지금 것은%HTML_用語解説("アルバコア")%의 아종일까?
			KSTR:(K++) = 배가 파손되지 않아 다행이었지만…… 물고기가 있던 곳에, 뭔가 반짝이는 것을 발견했다。_PAGE
			WSTR:(K++) = 방금 그 물고기의 비늘인 것 같다.
			WSTR:(K++) = 크기가 적당해서, 조금 손보면 귀걸이로 가공할 수 있을지도 모른다. 모처럼이니 받아두자.
			WSTR:(K++) = %CALLNAME:MASTER%들은 「알바코어 귀걸이」를 손에 넣었다!
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			CALL 汎用耳飾り取得処理("アルバコアの耳飾り")
		ELSE
			KSTR:(K++) = 거대한 물고기가 돌진해 온 곳이다. 조심하자.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_25_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 25
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "26_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "24_6")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈은 「↑」을 가리키고 있다.
			WSTR:(K++) = 소용돌이의 중심에, 희미하게 빛이 보인다. 바깥의 빛일까?
			WSTR:(K++) = 골은 이제 조금 남은 것 같다. 이대로 인도를 따라 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 크리스탈은 「↑」을 가리키고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_26_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 26
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "25_1")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈은 「→」을 가리키고 있다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 크리스탈은 「→」을 가리키고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_27_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 27
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 35
		ダンジョン現在位置:1 = 4
		CALL 接続ルート全開放処理(35, 4)
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_28_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 28
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "27_4")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈의 빛이 사라지고, 눈앞에는 소용돌이의 중심이 있다.
			WSTR:(K++) = 여기에 뛰어드는 것은 조금 용기가 필요하지만…… 소용돌이 너머에서는 빛이 비치고 있다.
			WSTR:(K++) = 배의 키를 소용돌이의 중심으로 향하게 하고, 들어가 보자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 크리스탈의 빛은 사라져 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_29_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 주위에서, 강한 살기를 느낀다……
			WSTR:(K++) = 여기는 크리스탈의 인도에서 벗어난 길이다! 이형의 괴물들이 너희에게 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 이형들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 바깥 던전보다 강한 마물들이 서식하고 있는 것 같다. 길을 벗어나지 않도록 조심해서 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_29_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 주위에서 강한 살기를 느낀다…….
			WSTR:(K++) = 이곳은 크리스탈의 인도에서 벗어난 길이다! 이형의 괴물들이 너희를 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 이형들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 바깥 던전보다 강한 마물들이 서식하고 있는 것 같다. 길을 벗어나지 않도록 조심해서 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_29_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "28_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈은 「↓」을 가리키고 있다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 크리스탈은 「↓」을 가리키고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_29_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "25_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "31_7")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "30_8")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈은 「←」을 가리키고 있다.
			WSTR:(K++) = 기류는 더욱 빨라져, 구름을 휘감으며 너희의 배를 중앙으로 옮겨간다.
			WSTR:(K++) = 폭풍이 몰아치는 혹독한 환경이지만, 신기하게도 너희 주변은 강풍 정도로 그치고 있다.
			WSTR:(K++) = 크리스탈의 인도가 없었다면, 이렇게 바람의 틈새를 비집고 나아가는 것은 어려웠을 것이다.
			WSTR:(K++) = 길을 벗어나지 않도록 주의해서 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 크리스탈은 「←」을 가리키고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_30_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 30
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_7")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_0")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 크리스탈은 「↓」을 가리키고 있다.
			WSTR:(K++) = 주위의 구름이 나선을 그리며 중앙으로 흘러들어가는 광경이 보인다.
			WSTR:(K++) = 자연……이라고 해도 좋을 환경인지는 모르겠지만, 모든 풍경이 하나의 흐름을 따라 움직이는 모습은 경외심마저 불러일으킨다.
			WSTR:(K++) = 관광 명소로 만들면 인기가 있겠지만, 역시 이 장소까지 관광객을 데려오는 것은 어려울 것이다.
			WSTR:(K++) = 크리스탈은 구름의 흐름을 따라 중앙을 가리키는 것 같다. 앞으로 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 크리스탈은 「↓」을 가리키고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_30_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 30
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 주변에서 강한 살기가 느껴진다…….
			WSTR:(K++) = 여기는 크리스탈의 인도에서 벗어난 길이다! 이형의 괴물들이 너희를 습격해 온다!
			CALL メッセージ欄表示用関数(,,,0)
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 이형들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 밖의 던전보다 강한 마물이 서식하고 있는 것 같다. 길을 벗어나지 않도록 조심해서 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_境界への導き_31_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 31
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン_赤
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = 
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = 
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_31_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 31
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "31_0")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_境界への導き_31_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 31
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "31_3")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 주변에서 강한 살기가 느껴진다…….
			WSTR:(K++) = 여기는 크리스탈의 인도에서 벗어난 길이다! 이형의 괴물들이 너희를 습격해 온다!
			CALL メッセージ欄表示用関数(,,,0)
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 이형들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 여기는 올바른 길에서 벗어나 있지만, 조금 더 앞까지 이동할 수 있을 것 같다.
				WSTR:(K++) = 하지만, 안쪽에서 강렬한 살기가 느껴진다……!!
				WSTR:(K++) = 지금은 나아가지 않는 편이 좋을 것 같다…….(강적 미구현으로 인해 진행할 수 없습니다)
				CALL メッセージ欄表示用関数(,,,0)
				;奥の道未実装
				;CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_境界への導き:マス深度:マス分岐, 4
			ENDIF
		ELSE
			CALL エネミーランダム登録_境界への導き()
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT





@ダンジョンマス情報_境界への導き_35_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 35
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "38_4")
	CASE "マスイベント"
		;移動先Yと移動先Yを、移動先の位置に変更すること
		ダンジョン現在位置:0 = 27
		ダンジョン現在位置:1 = 4
		CALL 画面再描画
ENDSELECT




@ダンジョンマス情報_境界への導き_38_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 38
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_暗雲
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 기묘한 공간이 끝나고, 전방에 출구가 보인다.
			WSTR:(K++) = 무사히 목적지인 「경계의 세계」에 도착할 수 있었던 것 같다.
WSTR:(K++) = 「성정수 era를 구해줬으면 좋겠어」라고, 꿈속에서 말을 걸어온 별의 백성 타피라는 말했다.
WSTR:(K++) = 이 앞에 있는 본인과 만나면, 자세한 사정을 들을 수 있을 것이다.
KSTR:(K++) = 그다지 나쁜 이야기가 아니면 좋겠는데……. _PAGE
WSTR:(K++) = 외출 장소에 「경계의 세계」가 추가되었다!
WSTR:(K++) = 경계로의 인도를 클리어했습니다, 귀환합니다.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 画面再描画
			ダンジョン終了状況 = 踏破達成
			ダンジョンクリアフラグ_境界への導き = 1
		ELSE
KSTR:(K++) = 기묘한 공간이 끝나고, 전방에 출구가 보인다.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 画面再描画
		ENDIF
ENDSELECT































































