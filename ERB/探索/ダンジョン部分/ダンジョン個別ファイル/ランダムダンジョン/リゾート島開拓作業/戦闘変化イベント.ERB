
@イベント_リゾート島開拓作業_ランダム_属性エレメントの強化
#DIM 属性番号

CALL 口上変数初期化
IF ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 == "イベント完了"
	KSTR:(K++) = 특별히 달라진 모습은 없다.
	CALL メッセージ欄表示用関数(,,,0)
ELSE
	;最初に訪れた時
	属性番号 = RAND:6
	WSTR:(K++) = %CALLNAME:MASTER%들이 탐색하고 있을 때, 땅에서 강한 마력이 뿜어져 나오는 구멍을 발견했다.
	WSTR:(K++) = 아무래도 지맥의 흐름이 모여, %属性数値文字列変換(属性番号)%속성의 마력으로 표출되고 있는 것 같다.
	KSTR:(K++) = 이 마력을 사용하면, 이 탐색 중만이지만 %属性数値文字列変換(属性番号)%속성의 대미지를 올릴 수 있을 것이다._PAGE
	
	KSTR:(K++) = 어떻게 하시겠습니까?
	KSTR:(K++) = 획득 가능한 탐색 중 가호: %属性数値文字列変換(属性番号)%속성 대미지 UP (20%)
	IF ランダムダンジョン中加護 == ""
		KSTR:(K++) = 현재 탐색 중 가호: 없음
		KSTR:(K++) = BUTTON_[가호를 획득한다]
	ELSE
		KSTR:(K++) = 현재 탐색 중 가호: %ランダムダンジョン中加護%
		KSTR:(K++) = BUTTON_[가호를 교체한다]
	ENDIF
	KSTR:(K++) = BUTTON_[아무것도 하지 않는다]
	CALL メッセージ欄表示用関数(,,,0)
	CALL 口上変数初期化
	$LOOP_MESSAGE
	BINPUTS
	SELECTCASE RESULTS
		CASE "[가호를 획득한다]", "[가호를 교체한다]"
			WSTR:(K++) = 탐색에 도움이 될 것 같다.
			WSTR:(K++) = %CALLNAME:MASTER%들은 넘쳐흐르는 마력을 이용하여, %属性数値文字列変換(属性番号)%속성의 대미지를 올리는 가호를 획득했다!
			ランダムダンジョン中加護 = %属性数値文字列変換(属性番号)%属性ダメージUP_20％
			WSTR:(K++) = %CALLNAME:MASTER%들은 가호를 획득한 것을 확인하고, 만족스러운 듯 탐색으로 돌아갔다.
		CASE "[아무것도 하지 않는다]"
			WSTR:(K++) = 이번에는 필요 없을 것 같다.
			WSTR:(K++) = %CALLNAME:MASTER%들은 아무것도 하지 않고 탐색으로 돌아갔다.
	ENDSELECT
	CALL メッセージ欄表示用関数(,,,0)
	CALL 接続ルート全開放処理((ダンジョン現在位置:0), (ダンジョン現在位置:1))
	ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 = イベント完了
	CALL 口上変数初期化
ENDIF
CALL 画面再描画

@固有戦闘開始時処理_特殊_火属性ダメージUP_20％
;味方全体へのバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "バフ", "適用範囲", "味方全体",
	"効果枠", "火強化_ランダム加護", "対象能力", "火強化", "効果量_割合", 0, "効果量_固定値", 20,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}

@固有戦闘開始時処理_特殊_水属性ダメージUP_20％
;味方全体へのバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "バフ", "適用範囲", "味方全体",
	"効果枠", "水強化_ランダム加護", "対象能力", "水強化", "効果量_割合", 0, "効果量_固定値", 20,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}

@固有戦闘開始時処理_特殊_風属性ダメージUP_20％
;味方全体へのバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "バフ", "適用範囲", "味方全体",
	"効果枠", "風強化_ランダム加護", "対象能力", "風強化", "効果量_割合", 0, "効果量_固定値", 20,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}

@固有戦闘開始時処理_特殊_土属性ダメージUP_20％
;味方全体へのバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "バフ", "適用範囲", "味方全体",
	"効果枠", "土強化_ランダム加護", "対象能力", "土強化", "効果量_割合", 0, "効果量_固定値", 20,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}

@固有戦闘開始時処理_特殊_光属性ダメージUP_20％
;味方全体へのバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "バフ", "適用範囲", "味方全体",
	"効果枠", "光強化_ランダム加護", "対象能力", "光強化", "効果量_割合", 0, "効果量_固定値", 20,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}

@固有戦闘開始時処理_特殊_闇属性ダメージUP_20％
;味方全体へのバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "バフ", "適用範囲", "味方全体",
	"効果枠", "闇強化_ランダム加護", "対象能力", "闇強化", "効果量_割合", 0, "効果量_固定値", 20,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}


@イベント_リゾート島開拓作業_ランダム_奇妙な学者
#DIM 属性番号

CALL 口上変数初期化
IF ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 == "イベント完了"
	KSTR:(K++) = 특별히 달라진 모습은 없다.
	CALL メッセージ欄表示用関数(,,,0)
ELSE
	;最初に訪れた時
	属性番号 = RAND:3
	WSTR:(K++) = %CALLNAME:MASTER%들이 탐색하고 있을 때, 섬 개척 의뢰를 받은 기공사와 만났다.
	WSTR:(K++) = 기공사는 평소에는 학자를 하고 있으며, 필드워크 겸 연구비를 벌기 위해 기공사 일을 하고 있는 듯하다.
	SELECTCASE 属性番号
		CASE 0
			WSTR:(K++) = 연구하고 있는 주제는 「통상 공격의 성능에 대해」라고 한다.
			KSTR:(K++) = 학자는, 이 탐색 중만이지만 통상 공격 데미지를 올리는 마법을 걸어볼까 하고 제안해왔다._PAGE
		CASE 1
			WSTR:(K++) = 연구하고 있는 주제는 「데미지 어빌리티의 성능에 대해」라고 한다.
			KSTR:(K++) = 학자는, 이 탐색 중만이지만 어빌리티 데미지를 올리는 마법을 걸어볼까 하고 제안해왔다._PAGE
		CASE 2
			WSTR:(K++) = 연구하고 있는 주제는 「오의의 성능에 대해」라고 한다.
			KSTR:(K++) = 학자는, 이 탐색 중만이지만 오의 데미지를 올리는 마법을 걸어볼까 하고 제안해왔다._PAGE
	ENDSELECT
	
	KSTR:(K++) = 어떻게 하시겠습니까?
	SELECTCASE 属性番号
		CASE 0
			KSTR:(K++) = 획득 가능한 탐색 중 가호: 통상 공격 데미지 UP (30%)
		CASE 1
			KSTR:(K++) = 획득 가능한 탐색 중 가호: 어빌리티 데미지 UP (25%)
		CASE 2
			KSTR:(K++) = 획득 가능한 탐색 중 가호: 오의 데미지 UP (20%)
	ENDSELECT
	IF ランダムダンジョン中加護 == ""
		KSTR:(K++) = 현재 탐색 중 가호: 없음
		KSTR:(K++) = BUTTON_[가호를 얻는다]
	ELSE
		KSTR:(K++) = 현재 탐색 중 가호:%ランダムダンジョン中加護%
		KSTR:(K++) = BUTTON_[가호를 교체한다]
	ENDIF
	KSTR:(K++) = BUTTON_[아무것도 하지 않는다]
	CALL メッセージ欄表示用関数(,,,0)
	CALL 口上変数初期化
	$LOOP_MESSAGE
	BINPUTS
	SELECTCASE RESULTS
		CASE "[가호를 얻는다]", "[가호를 교체한다]"
			WSTR:(K++) = 탐색에 도움이 될 것 같다.
			SELECTCASE 属性番号
				CASE 0
					WSTR:(K++) = %CALLNAME:MASTER%들은 학자의 호의에 기대어, 통상 공격의 대미지를 올리는 가호를 얻었다!
					ランダムダンジョン中加護 = 通常攻撃ダメージUP_30％
				CASE 1
					WSTR:(K++) = %CALLNAME:MASTER%들은 학자의 호의에 기대어, 어빌리티의 대미지를 올리는 가호를 얻었다!
					ランダムダンジョン中加護 = アビリティダメージUP_25％
				CASE 2
					WSTR:(K++) = %CALLNAME:MASTER%들은 학자의 호의에 기대어, 오의의 대미지를 올리는 가호를 얻었다!
					ランダムダンジョン中加護 = 奥義ダメージUP_20％
			ENDSELECT
			WSTR:(K++) = %CALLNAME:MASTER%들은 학자에게 감사를 표하고, 만족스러운 듯 탐색으로 돌아갔다.
		CASE "[아무것도 하지 않는다]"
			WSTR:(K++) = 이번에는 필요 없을 것 같다.
			WSTR:(K++) = %CALLNAME:MASTER%들은 학자에게 작별 인사를 하고, 그대로 탐색으로 돌아갔다.
	ENDSELECT
	CALL メッセージ欄表示用関数(,,,0)
	CALL 接続ルート全開放処理((ダンジョン現在位置:0), (ダンジョン現在位置:1))
	ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 = イベント完了
	CALL 口上変数初期化
ENDIF
CALL 画面再描画

@固有戦闘開始時処理_特殊_通常攻撃ダメージUP_30％
;味方全体へのバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "バフ", "適用範囲", "味方全体",
	"効果枠", "通常攻撃強化_ランダム加護", "対象能力", "ダメージ補正_通常攻撃ダメージ", "効果量_割合", 30, "効果量_固定値", 0,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}

@固有戦闘開始時処理_特殊_アビリティダメージUP_25％
;味方全体へのバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "バフ", "適用範囲", "味方全体",
	"効果枠", "アビリティ攻撃強化_ランダム加護", "対象能力", "ダメージ補正_アビリティダメージ", "効果量_割合", 25, "効果量_固定値", 0,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}

@固有戦闘開始時処理_特殊_奥義ダメージUP_20％
;味方全体へのバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "バフ", "適用範囲", "味方全体",
	"効果枠", "奥義強化_ランダム加護", "対象能力", "ダメージ補正_奥義ダメージ", "効果量_割合", 20, "効果量_固定値", 0,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}


@イベント_リゾート島開拓作業_ランダム_呪いの遺物
#DIM 属性番号

CALL 口上変数初期化
IF ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 == "イベント完了"
	KSTR:(K++) = 특별히 달라진 모습은 없다.
	CALL メッセージ欄表示用関数(,,,0)
ELSE
	;最初に訪れた時
	属性番号 = RAND:3
	WSTR:(K++) = %CALLNAME:MASTER%들이 탐색하던 중, 기이한 마력을 내뿜는 낡은 보석을 발견했다.
	WSTR:(K++) = 고대에 주술에 사용되던 것일까. 주위에 악의를 뿌리는 듯한 불쾌한 분위기가 느껴진다.
	WSTR:(K++) = 다행히도 세월의 흐름으로 인해 힘이 많이 약해져 있으며, 내버려 두면 그 힘은 흩어질 것이다.
	SELECTCASE 属性番号
		CASE 0
			KSTR:(K++) = 조금 가공하면, 적대하는 자의 공격력을 낮추는 저주로 변화시킬 수 있을지도 모른다._PAGE
		CASE 1
			KSTR:(K++) = 조금 가공하면, 적대하는 자의 방어력을 낮추는 저주로 변화시킬 수 있을지도 모른다._PAGE
		CASE 2
			KSTR:(K++) = 조금 가공하면, 적대하는 자의 행동 속도를 낮추는 저주로 변화시킬 수 있을지도 모른다._PAGE
	ENDSELECT
	
	KSTR:(K++) = 어떻게 하시겠습니까?
	SELECTCASE 属性番号
		CASE 0
			KSTR:(K++) = 획득 가능한 탐색 중 가호: 적의 공격력 DOWN (10%)
		CASE 1
			KSTR:(K++) = 획득 가능한 탐색 중 가호: 적의 방어력 DOWN (10%)
		CASE 2
			KSTR:(K++) = 획득 가능한 탐색 중 가호: 적의 행동 속도 DOWN (15%)
	ENDSELECT
	IF ランダムダンジョン中加護 == ""
		KSTR:(K++) = 현재 탐색 중 가호: 없음
		KSTR:(K++) = BUTTON_[가호를 획득한다]
	ELSE
		KSTR:(K++) = 현재 탐색 중 가호:%ランダムダンジョン中加護%
		KSTR:(K++) = BUTTON_[가호를 교체한다]
	ENDIF
	KSTR:(K++) = BUTTON_[아무것도 하지 않는다]
	CALL メッセージ欄表示用関数(,,,0)
	CALL 口上変数初期化
	$LOOP_MESSAGE
	BINPUTS
	SELECTCASE RESULTS
		CASE "[가호를 획득한다]", "[가호를 교체한다]"
			WSTR:(K++) = 탐색에 도움이 될 것 같다, 가공해 나가자.
			SELECTCASE 属性番号
				CASE 0
					WSTR:(K++) = %CALLNAME:MASTER%들은 저주를 개조하여, 적의 공격력을 낮추는 가호를 획득했다!
					ランダムダンジョン中加護 = 攻撃力DOWN_10％
				CASE 1
					WSTR:(K++) = %CALLNAME:MASTER%들은 저주를 개조하여, 적의 방어력을 낮추는 가호를 획득했다!
					ランダムダンジョン中加護 = 防御力DOWN_10％
				CASE 2
					WSTR:(K++) = %CALLNAME:MASTER%들은 저주를 개조하여, 적의 행동 속도를 낮추는 가호를 얻었다!
					ランダムダンジョン中加護 = 行動速度DOWN_15％
			ENDSELECT
			WSTR:(K++) = %CALLNAME:MASTER%들은 보석을 품에 넣고, 탐색으로 돌아갔다.
		CASE "[아무것도 하지 않는다]"
			WSTR:(K++) = 이번에는 필요 없을 것 같다.
			WSTR:(K++) = %CALLNAME:MASTER%들은 보석을 방치하고, 탐색으로 돌아갔다.
	ENDSELECT
	CALL メッセージ欄表示用関数(,,,0)
	CALL 接続ルート全開放処理((ダンジョン現在位置:0), (ダンジョン現在位置:1))
	ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 = イベント完了
	CALL 口上変数初期化
ENDIF
CALL 画面再描画


@固有戦闘開始時処理_特殊_攻撃力DOWN_10％
;敵全体へのデバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "デバフ", "適用範囲", "敵全体",
	"効果枠", "攻撃力DOWN_ランダム加護", "対象能力", "攻撃力", "効果量_割合", 10, "効果量_固定値", 0,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}

@固有戦闘開始時処理_特殊_防御力DOWN_10％
;敵全体へのデバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "デバフ", "適用範囲", "敵全体",
	"効果枠", "防御力DOWN_ランダム加護", "対象能力", "防御力", "効果量_割合", 10, "効果量_固定値", 0,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}

@固有戦闘開始時処理_特殊_行動速度DOWN_15％
;敵全体へのデバフを貼る
{
DT_ROW_ADD "戦闘効果データベース", "効果名", "ランダムダンジョン加護", "バフ・デバフフラグ", "デバフ", "適用範囲", "敵全体",
	"効果枠", "行動速度DOWN_ランダム加護", "対象能力", "行動速度", "効果量_割合", 15, "効果量_固定値", 0,
	"持続ターン", -1, "持続回数", -1, "持続行動回数", -1, "持続被ダメ回数", -1, "消去不可フラグ", 1, "特殊表示オプション", 0
}
