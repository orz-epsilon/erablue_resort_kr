
@イベント_リゾート島開拓作業_ランダム_不意の地崩れ
#DIM ダメージ量

CALL 口上変数初期化
IF ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 == "イベント完了"
	KSTR:(K++) = 특별히 달라진 점은 없다.
	CALL メッセージ欄表示用関数(,,,0)
ELSE
	;最初に訪れた時
	WSTR:(K++) = %CALLNAME:MASTER%들이 탐색하고 있는데, 갑자기 발밑의 땅이 무너져 떨어져 버렸다!
	WSTR:(K++) = 아무래도 지하수의 침식으로 인해 땅속에 구멍이 뚫려 있었던 것 같다.
	WSTR:(K++) = 다행히 그렇게 깊은 구멍은 아니었지만, %CALLNAME:MASTER%들은 적지 않은 부상을 입고 말았다……
	ダメージ量 = ダンジョン階層記録 * 30
	KSTR:(K++) = 모두의 HP가 {ダメージ量, 4} 감소했다.
	;HPバーの表示タイミングを調整するためここで一旦メッセージ表示
	CALL メッセージ欄表示用関数()
	CALL 口上変数初期化
	
	CALL 探索中全体ダメージ_ＨＰ_非致死(ダメージ量)
	WSTR:(K++) = %CALLNAME:MASTER%들은 구멍에서 기어 올라와, 마음을 다잡고 탐색을 계속한다.
	CALL メッセージ欄表示用関数(,,,0)
	
	CALL 接続ルート全開放処理((ダンジョン現在位置:0), (ダンジョン現在位置:1))
	ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 = イベント完了
	CALL 口上変数初期化
ENDIF
CALL 画面再描画

@イベント_リゾート島開拓作業_ランダム_魔物の不意打ち
#DIM ダメージ対象
#DIM ダメージ量

CALL 口上変数初期化
IF ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 == "イベント完了"
	KSTR:(K++) = 특별히 달라진 점은 없다.
	CALL メッセージ欄表示用関数(,,,0)
ELSE
	;最初に訪れた時
	WSTR:(K++) = %CALLNAME:MASTER%들이 탐색하고 있는데, 마물의 기습을 받고 말았다!
	ダメージ対象 = 味方ランダム選出_前衛のみ()
	ダメージ量 = BATTLE_STATE:ダメージ対象:ＨＰ - MAX(1, (BATTLE_STATE:ダメージ対象:ＨＰ * (100 - 60) / 100))
	WSTR:(K++) = 어떻게든 격퇴에 성공했지만, 첫 불의의 일격으로 %CALLNAME:(BATTLE_STATE:ダメージ対象:0)%가 큰 부상을 입고 말았다……
	KSTR:(K++) = %CALLNAME:(BATTLE_STATE:ダメージ対象:0)%의 HP가 {ダメージ量, 4} 감소했다.
	;HPバーの表示タイミングを調整するためここで一旦メッセージ表示
	CALL メッセージ欄表示用関数()
	CALL 口上変数初期化
	
	BATTLE_STATE:ダメージ対象:ＨＰ = MAX(1, (BATTLE_STATE:ダメージ対象:ＨＰ * (100 - 60) / 100))
	WSTR:(K++) = 불의의 일격을 받았지만, %CALLNAME:MASTER%들은 습격해 온 마물들을 어떻게든 쓰러뜨렸다.
	WSTR:(K++) = %CALLNAME:MASTER%들은 다시 한번 주위를 경계하며, 마음을 다잡고 탐색을 계속한다.
	CALL メッセージ欄表示用関数(,,,0)
	
	CALL 接続ルート全開放処理((ダンジョン現在位置:0), (ダンジョン現在位置:1))
	ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 = イベント完了
	CALL 口上変数初期化
ENDIF
CALL 画面再描画


@イベント_リゾート島開拓作業_ランダム_魔力災害
#DIM ダメージ量

CALL 口上変数初期化
IF ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 == "イベント完了"
	KSTR:(K++) = 특별히 달라진 점은 없다.
	CALL メッセージ欄表示用関数(,,,0)
ELSE
	;最初に訪れた時
	WSTR:(K++) = %CALLNAME:MASTER%들이 탐색하고 있는데, 근처에서 거대한 마력을 느낀다……!
	WSTR:(K++) = 자연 발생한 정령들이 너무 많이 모여, 하나로 합체하려는 것 같다!
	WSTR:(K++) = 이대로라면 강한 마물이 태어나고 말 것이다. %CALLNAME:MASTER%들은 마력을 방출하고, 나누어 정령을 흩어지게 한다.
	ダメージ量 = ダンジョン階層記録 * 15
	KSTR:(K++) = 전원의 MP가 {ダメージ量, 4} 감소했다.
	;HPバーの表示タイミングを調整するためここで一旦メッセージ表示
	CALL メッセージ欄表示用関数()
	CALL 口上変数初期化
	
	CALL 探索中全体ダメージ_ＭＰ(ダメージ量)
	WSTR:(K++) = 어떻게든 정령들을 흩어지게 하는 데 성공한 것 같다. 주위의 마력도 정상으로 돌아왔다.
	WSTR:(K++) = %CALLNAME:MASTER%들은 안심하고, 다시 탐색으로 돌아갔다.
	CALL メッセージ欄表示用関数(,,,0)
	
	CALL 接続ルート全開放処理((ダンジョン現在位置:0), (ダンジョン現在位置:1))
	ランダムダンジョン配列:(ダンジョン現在位置:0):(ダンジョン現在位置:1):イベント状態 = イベント完了
	CALL 口上変数初期化
ENDIF
CALL 画面再描画
