

@ダンジョン初期処理_バルツ地下廃工場
;ダンジョン構造の読み込み
;0でない時、そのマスは存在する
#DIM 深度
#DIM 分岐

ダンジョンサブタイトル = AVANDONED FACTORY
ダンジョンマス画像URL_伏せ状態 = 壁_工場
ダンジョン現在位置:0 = 3
ダンジョン現在位置:1 = 8
ダンジョン背景画像 = 背景_工場

;スタート地点は必ず存在
;初期からオープン済みなので3を入れる
;ビット0：存在するか　ビット1：移動できるか　ビット2：マスをオープンするか（ビット１をONにしないと無意味）　ビット3：入れないがオープンする場合に使用
;ビット4以降：自由枠。主に宝箱の開閉やイベント達成フラグなどに使用
IF GETVAR(@"ダンジョン構造配列_%ダンジョン名%:{ダンジョン現在位置:0}:{ダンジョン現在位置:1}") == 0
	SETVAR @"ダンジョン構造配列_%ダンジョン名%:{ダンジョン現在位置:0}:{ダンジョン現在位置:1}", 3
ENDIF

FOR 深度, 1, 100
	LOCAL = 0
	FOR 分岐, 0, 9
		IF GETVAR(@"ダンジョン構造配列_%ダンジョン名%:{深度}:{分岐}")
			;既にマス情報が入ってるなら飛ばす
			LOCAL = 1
			CONTINUE
		ELSEIF ENUMFUNCBEGINSWITH(@"ダンジョンマス情報_%ダンジョン名%_{深度}_{分岐}")
			LOCAL = 1
			SETVAR @"ダンジョン構造配列_%ダンジョン名%:深度:分岐", 1
		ENDIF
	NEXT
	IF LOCAL
		ダンジョン最大深度 = 深度
	ENDIF
NEXT

@ダンジョン解説文_バルツ地下廃工場

詳細文文字列受け渡し変数 = 
詳細文文字列受け渡し変数 += "바르츠 지하에 존재하는 폐공장. 가끔 콜로서스의 동형기가 나오는 경우가 있다. <br>"
詳細文文字列受け渡し変数 += "내부에는 불 속성의 마물이 살고 있어, 실력 있는 기공사가 아니면 들어가는 것은 위험하다. <br>"
詳細文文字列受け渡し変数 += "하지만, 회수되지 않은 고대 부품 등 유용한 소재도 많이 남아있다. <br>"

;推奨レベルを返す
RETURN 12



@敵討伐後処理_ダンジョン固有_バルツ地下廃工場(討伐エネミー数)
;ダンジョン内で戦闘した後に呼ばれる関数、主にダンジョンごとのドロップアイテム取得に使用
;まだ敵データはリセットしていないので敵BATTLE_STATEで色々情報は取得可能
#DIM 討伐エネミー数
#DIM ドロップ確率
#DIMS ドロップアイテム

ドロップ確率 = 10 * 討伐エネミー数
ドロップアイテム = 鉄鉱石
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 5 * 討伐エネミー数
ドロップアイテム = 赤熱鉱
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 10 * 討伐エネミー数
ドロップアイテム = 古びた歯車
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 5 * 討伐エネミー数
ドロップアイテム = 星晶の破片
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 1 * 討伐エネミー数
ドロップアイテム = 赤銅の古紋
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

;---------------------------------------------------------------------
;マップ構造
;---------------------------------------------------------------------
;右ルートと左ルートに分岐するが、右ルートは封印してあり左ルートを進まないと解除されない
;解除するとそのまま奥に進んでコロッサスがいる
;クリアすると乗機システムが開放される。落ちてるアイテムだけで最初の乗機は作成可能。
;（鉄鉱石６，赤熱鉱５，古い歯車３）
;---------------------------------------------------------------------
@ダンジョンマス情報_バルツ地下廃工場_0_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 0
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 길을 벗어나자, 광석류가 어지럽게 흩어져 있는 방을 발견했다.
			WSTR:(K++) = 자재를 분류하는 곳일까. 모양이 제각각이고 규격 외의 것이라는 인상을 받는다.
			WSTR:(K++) = 대부분은 산화되거나 풍화되어 쓸모없게 되었지만…… 몇 개 온전한 것을 가져가자.
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 철광석을 3개 손에 넣었다!
			CALL 素材入手処理("鉄鉱石", 3)
		ELSE
			KSTR:(K++) = 더 이상 눈에 띄는 것은 아무것도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_0_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 0
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			KSTR:(K++) = 기계는 공장 내에 냉기를 공급하고 있다.
		ELSE
			;最初に訪れた時
			WSTR:(K++) = 방 안에는 대형 기계가 자리 잡고 있다.
			WSTR:(K++) = 벽 전체를 뒤덮고, 수많은 파이프를 뻗은 기계는 전원이 꺼져 있는 듯하다._PAGE
			KSTR:(K++) = 기계의 전원을 켤까요?
			KSTR:(K++) = BUTTON_[켜다]
			KSTR:(K++) = BUTTON_[켜지 않는다]
			CALL 知識技能所持者検索("機械知識", 1)
			LOCAL:1 = RESULT
			SIF LOCAL:1 > -1
				KSTR:(K++) = BUTTON_[내부를 들여다본다]
			$LOOP_MESSAGE
			CALL メッセージ欄表示用関数(,,,0)
			BINPUTS
			SELECTCASE RESULTS
				CASE "[켜다]"
					CALL 口上変数初期化
					WSTR:(K++) = %CALLNAME:PLAYER%이 스위치를 켜자, 굉음을 내며 기계가 작동한다.
					WSTR:(K++) = 기계에서는 강한 냉기가 뿜어져 나와, 너희를 직격한다!
					WSTR:(K++) = 모두의 MP가 50 감소했다!
					CALL メッセージ欄表示用関数(,,,0)
					CALL 口上変数初期化
					FOR LOCAL, 0, 4
						SIF BATTLE_STATE:LOCAL:キャラ登録番号 < 1
							CONTINUE
						BATTLE_STATE:LOCAL:ＭＰ = MAX(BATTLE_STATE:LOCAL:ＭＰ - 50, 0)
					NEXT
					WSTR:(K++) = 얼어 죽을 것 같은 추위에, 너희는 허둥지둥 방 밖으로 도망쳤다.
					WSTR:(K++) = 아무래도 기계 설정이 이상해진 것 같다.
					WSTR:(K++) = 기계 지식이 있었다면 제대로 움직일 수 있었을지도 모르지만…… 어쨌든, 이걸로 이동할 수 있는 범위가 늘었을 것이다.
					SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
				CASE "[켜지 않는다]"
					CALL 口上変数初期化
					WSTR:(K++) = 일단 이대로 두자.
				CASE "[내부를 들여다본다]"
					WSTR:(K++) = 기계의 구조를 들여다본다.
					WSTR:(K++) = 아무래도 내부 기어를 재조합하여, 냉기 분출 지점을 설정할 수 있는 것 같다.
					WSTR:(K++) = 현재 설정으로는, 이 방 자체에도 냉기가 뿜어져 나올 것이다.
					WSTR:(K++) = %CALLNAME:(LOCAL:1)%은(는) 기어를 재조합하여, 이 방을 대상에서 제외하도록 설정하고 기계를 작동시켰다._PAGE
					WSTR:(K++) = …………아무래도 제대로 작동하는 것 같다.
					WSTR:(K++) = 이것으로 이동할 수 있는 범위가 늘었을 것이다. 지금까지 지나갈 수 없었던 곳으로 가보자.
					SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE
			ENDSELECT
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_1_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 1
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 上アイコン
	CASE "接続先"
	CASE "マスイベント"
		;13_8へ
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 벨트 컨베이어는 안쪽으로 이어져 있다.
			WSTR:(K++) = 안쪽에서는 금속으로 된 것이 움직이는 소리가, 멀리서 들린다……
			WSTR:(K++) = 폭주 기계는 아직 나올 것 같다. 조심해서 나아가자
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(13, 8)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 13
		ダンジョン現在位置:1 = 8
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_1_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 1
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "0_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "1_0")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 벨트 컨베이어의 끝에는 짐을 오른쪽에서 왼쪽으로, 왼쪽에서 오른쪽으로 이동시키는 기계들이 있었다.
			WSTR:(K++) = 아무래도 폭주하여 무의미한 일을 계속 반복하고 있는 것 같다.
			WSTR:(K++) = 너희들이 모습을 드러내자, 폭주 기계들은 새로운 일을 찾았다는 듯이 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:2:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:4:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:3:エネミー名 = Lv12_暴走機械A
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = %CALLNAME:PLAYER%들은 폭주 기계를 진압했다.
				WSTR:(K++) = 운반하던 짐은 그저 잔해였고, 특별히 쓸 만한 것은 없었다.
				WSTR:(K++) = 오히려 폭주 기계에서 철광석이나 적열광을 벗겨내는 것이 더 유용할 것 같다.
				WSTR:(K++) = 쓰러뜨렸을 때 온전한 광석을 발견하면 회수해 가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:2:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:4:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:3:エネミー名 = Lv12_폭주 기계A
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_1_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 1
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "1_2")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 통로를 나아가자, 고장 난 벨트 컨베이어를 발견했다.
			WSTR:(K++) = 아무래도 이 안쪽이 자재 분류 장소이며, 이 벨트 컨베이어를 통해 자재를 운반하는 구조인 것 같다.
			WSTR:(K++) = 이곳으로 나아가면 남은 광석류를 주울 수 있을지도 모른다.
			WSTR:(K++) = 사용할 수 있는 아이템을 놓치지 않도록 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 고장 난 벨트 컨베이어가 이어져 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_2_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 마력이 체류하여, 성정석이 되어 방 벽에서 결정화되어 있다.
			WSTR:(K++) = 마력이 많은 땅에서 가끔 볼 수 있는 현상이지만, 손대지 않은 채 남아있는 것을 발견하는 것은 드물다.
			WSTR:(K++) = 큰 조각을 조금 가져가자._PAGE
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 성정석 조각을 1개 손에 넣었다!
			CALL 素材入手処理("星晶の欠片", 1)
		ELSE
			KSTR:(K++) = 벽을 결정화된 성정석이 희미하게 덮고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_2_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "0_7")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0 && GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:7, 4)
			;開くパターン
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 손에 넣은 카드키로 문을 열었다.
			SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			KSTR:(K++) = 이미 카드키 문은 열려 있다.
		ELSEIF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 길의 앞에는, 매끄러운 문이 길을 막고 있다.
			WSTR:(K++) = 문에는 손잡이가 없고, 열려고 해도 꼼짝도 하지 않는다.
			WSTR:(K++) = 문 옆에는 가느다란 구멍이 하나 뚫려 있었다.
			WSTR:(K++) = 이것이 열쇠 구멍일까……? 어딘가에서 판 모양의 물건을 찾으면 시험해 보자.
		ELSE
			KSTR:(K++) = 문은 열릴 것 같지 않다.
			KSTR:(K++) = 문 옆에는 가느다란 구멍이 하나 뚫려 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_3_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 3
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "1_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "5_5")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 이 공장은 고대에 별의 백성이 만들고, 드라프가 반란 끝에 빼앗은 시설인 듯하다.
			WSTR:(K++) = 세월이 흘렀음에도 불구하고 통로나 벽에 눈에 띄는 열화가 없는 것은 역시 별의 백성답다고 할 수 있을까.
			WSTR:(K++) = 하지만 역시 종이류는 그렇지 않은 것 같다.
			WSTR:(K++) = 벽에는 「공장 내 시설도」라고 각인되어 있지만, 그 아래에 붙어 있던 종이는 너덜너덜하게 부서져 버렸다.
			WSTR:(K++) = 이래서는 제대로 읽을 수 없을 것이다. 스스로 발로 탐색할 수밖에 없을 것 같다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 공장 지도는 너덜너덜하게 부서져 버렸다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_3_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 3
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_7")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "3_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "4_7")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 공장 안으로 들어가자, 큰 경보음이 울려 퍼진다!
			WSTR:(K++) = 아무래도 공장의 기계가 %CALLNAME:PLAYER%들을 침입자로 간주한 것 같다.
			WSTR:(K++) = 묻지도 따지지도 않고 폭주한 기계가 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv12_폭주기계A
			敵BATTLE_STATE_STR:2:エネミー名 = Lv12_폭주기계A
			敵BATTLE_STATE_STR:5:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:7:エネミー名 = Lv12_暴走機械B
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = %CALLNAME:PLAYER%들은 폭주 기계를 진압했다.
				WSTR:(K++) = 긴 시간이 지나도 계속 움직이는 것은 위협적이지만, 대처할 수 없을 정도는 아닌 것 같다.
				WSTR:(K++) = 하지만 방심할 수 있을 정도도 아니다. 경계하며 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:2:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:5:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:7:エネミー名 = Lv12_暴走機械B
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_3_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 3
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "3_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%은 발츠 지하의 폐공장으로 발을 들여놓았다.
			WSTR:(K++) = 이전에 일어난 사건 이후, 이 공장에서 가끔 폭주한 기계형 성정수가 출현하는 것 같다.
			WSTR:(K++) = 평소에는 실력 있는 기공사에게 대처를 의뢰하는 것 같지만, 이번에는 만물상의 연줄로 의뢰에 끼어들게 되었다。_PAGE
			IF 鍛冶場作成許可フラグ
				WSTR:(K++) = 여기에 있는 성정수는 고대 드라프가 개발했다고 한다.
				WSTR:(K++) = 그렇다면 탑승기 개발에 도움이 되는 지식이나 소재가 남아있어도 이상할 것이 없다.
				WSTR:(K++) = 놓치지 않도록 구석구석 탐색해 나가자.
			ELSE
				WSTR:(K++) = 여기에 있는 성정수는 고대 드라프가 개발했다고 들었다.
				WSTR:(K++) = 대장장이·개발이라는 개념에 매우 가까운 존재다. 대장간을 만드는 데는 안성맞춤일 것이다.
			ENDIF
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 투박한 철과 불에 둘러싸인 공장으로 발을 들여놓는다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 투박한 철과 불이 눈에 띄는 폐공장이다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_4_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 4
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 上アイコン
	CASE "接続先"
	CASE "マスイベント"
		;17_8へ
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 곳곳이 녹아내린 통로는 아직 앞으로 이어져 있다.
			WSTR:(K++) = 불의 마력은 아직도 농밀하게 주위를 채우고 있다.
			WSTR:(K++) = 이 앞에서는 역시 불의 정령이 많이 나오는 것 같다. 조심해서 나아가자.
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(17, 8)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 17
		ダンジョン現在位置:1 = 8
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_4_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 4
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "4_0")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_3")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 통로 끝에 움직이는 빛이 보인다.
			WSTR:(K++) = 그것은 붉게 흔들리는 불꽃처럼 보이지만, 그러나 스스로의 의지로 움직이는 것처럼도 보인다.
			WSTR:(K++) = …………저것은 불의 정령이다! 거처에 침입한 %CALLNAME:PLAYER%들에게 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:3:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:4:エネミー名 = Lv13_불의 엘리멘탈
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 어떻게든 불의 정령들을 격퇴하는 데 성공했다.
				WSTR:(K++) = 이 타입의 정령은 비교적 방어가 약한 대신 공격력이 뛰어나다.
				WSTR:(K++) = 방어나 회복, 공격 디버프 등의 수단을 준비하면 안전하게 싸울 수 있을 것이다.
				WSTR:(K++) = %CALLNAME:PLAYER%들은 더욱 앞쪽 통로로 나아간다.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:3:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:4:エネミー名 = Lv13_불의 엘리멘탈
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_4_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 4
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "6_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 통로 옆 방에 들어가 보니, 그곳은 라커룸 같았다.
			WSTR:(K++) = 공장에서 예전에 일했던 사람들이 옷을 갈아입는 장소인 듯하다.
			WSTR:(K++) = 조사해 보니, 직업의 증표가 굴러다니고 있었다._PAGE
			WSTR:(K++) = 이것도 별의 백성의 기술로 만들어진 것일까. 오랜 시간 방치되어 있었을 텐데 손상은 보이지 않는다.
			WSTR:(K++) = 장착하면, 기계에 대해 자세히 알게 될 것 같다. 이 던전 탐색에 도움이 될 것이다.
			WSTR:(K++) = 직업의 증표 「메카닉의 증표」를 손에 넣었다!
			CALL 汎用証取得処理("メカニックの証")
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 더 이상 눈에 띄는 것은 아무것도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_5_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 5
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "4_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "6_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 통로를 나아가자, 희미하게 기온이 높아진 듯한 느낌이 들었다.
			CALL 知識技能所持者検索("機械知識", 1)
			LOCAL = RESULT
			IF LOCAL < 0
				CALL 知識技能所持者検索("魔法知識", 1)
				LOCAL = RESULT
			ENDIF
			IF LOCAL > -1
				WSTR:(K++) = %CALLNAME:LOCAL%은(는) 조금 앞쪽 천장이 이상하다고 눈치챘다.
				WSTR:(K++) = 천장에는 슬릿 모양의 구멍이 여러 개 뚫린 환기구 같은 것이 있다.
				KSTR:(K++) = 시험 삼아 그곳을 향해 돌멩이를 던져보니, 환기구에서 열풍이 엄청난 기세로 뿜어져 나왔다!!_PAGE
				WSTR:(K++) = 아무래도 불의 마력이 덕트에 쌓여 있다가, 자극과 동시에 뿜어져 나온 것 같았다.
				WSTR:(K++) = %CALLNAME:PLAYER%들은 방심하면 위험하다고, 마음을 다잡고 탐색을 재개한다.
			ELSE
				WSTR:(K++) = %CALLNAME:PLAYER%들이 신기하게 생각하며 통로를 나아가자, 갑자기 천장에서 열풍이 뿜어져 나왔다!
				WSTR:(K++) = 전원의 HP가 150 감소했다!
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
				FOR LOCAL, 0, 4
					SIF BATTLE_STATE:LOCAL:キャラ登録番号 < 1
						CONTINUE
					BATTLE_STATE:LOCAL:ＨＰ = MAX(BATTLE_STATE:LOCAL:ＨＰ - 150, 0)
				NEXT
				WSTR:(K++) = 아무래도 불의 마력이 환기구 안쪽에 체류하다가, 통로를 지나는 진동으로 자극받아 뿜어져 나온 것 같았다.
				WSTR:(K++) = 기계나 마법 지식이 있었다면 막을 수 있었을지도 모르지만……。
				WSTR:(K++) = %CALLNAME:PLAYER%들은 화상에 응급처치를 하고 나서 탐색을 재개한다.
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 더 이상 열기는 뿜어져 나오지 않는 것 같다.
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_5_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 5
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "5_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 통로를 나아가자, 벽과 바닥이 일그러진 형태로 변형되어 있었다.
			WSTR:(K++) = 튼튼하게 만들어졌을 문도 진흙처럼 녹아내린 형태로 굳어 있었다.
			WSTR:(K++) = 아무래도, 예상치 못한 초고열에 노출된 것처럼 보인다……。_PAGE
			WSTR:(K++) = 고대에 일어난 사고의 흔적일까? 어쨌든, 이 앞에는 불의 마력이 강하게 소용돌이치고 있다.
			WSTR:(K++) = 불의 정령이 많이 출현할지도 모른다. 물 속성 귀걸이를 준비해두면 편해질 것이다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 벽과 바닥이 일그러진 형태로 변형되어 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_6_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 6
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		IF ダンジョン内一時変数:1 == 0
			ダンジョンマス画像URL_重ね表示 = えっちハート
		ENDIF
	CASE "接続先"
	CASE "マスイベント"
		;えっちイベ
		IF ダンジョン内一時変数:1
		ELSE
			CALL ダンジョンハプニング基本処理()
			IF RESULT
				ダンジョン内一時変数:1 = 1
			ENDIF
			CALL 口上変数初期化
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_6_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 6
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "6_1")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 융해된 벽과 바닥이 계속 이어져 있다.
			WSTR:(K++) = 이미 굳어 있어 나아가는 데 지장은 없지만, 어떤 화력이 있어야 여기까지 파괴될 수 있었을까.
			WSTR:(K++) = 이제 이 공장에 동력은 연결되어 있지 않으므로, 같은 사고가 일어날 일은 없다고는 하지만……
			WSTR:(K++) = 오래 머물고 싶은 공간은 아니라고 %CALLNAME:PLAYER%는 생각했다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 융해된 벽과 바닥이 계속 이어져 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_6_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 6
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		IF ダンジョン内一時変数:0 == 0
			ダンジョンマス画像URL_重ね表示 = 回復アビ
		ENDIF
	CASE "接続先"
	CASE "マスイベント"
		IF ダンジョン内一時変数:0
		ELSE
			KSTR:(K++) = 락커룸 안쪽에 가설 수면실이 있었다. 잠글 수 있어 안전해 보인다.
			KSTR:(K++) = 잠시 쉬어 가시겠습니까?
			KSTR:(K++) = (파티원 전원 회복・던전을 한 번 나갈 때까지 소멸)
			KSTR:(K++) = BUTTON_[예]
			KSTR:(K++) = BUTTON_[아니요]
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[예]"
					KSTR:(K++) = 너희는 가설 수면실에서 충분한 휴식을 취하고 체력을 회복했다!
					CALL メッセージ欄表示用関数()
					ダンジョン内一時変数:0 = 1
					FOR LOCAL, 0, 4
						IF BATTLE_STATE:LOCAL:キャラ登録番号 < 1
							BREAK
						ENDIF
						BATTLE_STATE:LOCAL:ＨＰ = BATTLE_STATE:LOCAL:最大ＨＰ
						BATTLE_STATE:LOCAL:ＭＰ = BATTLE_STATE:LOCAL:最大ＭＰ
					NEXT
				CASE "[아니요]"
					KSTR:(K++) = 아직 쉴 정도로 지치지 않았다. 계속 나아가자.
					CALL メッセージ欄表示用関数()
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE
			ENDSELECT
		ENDIF
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_バルツ地下廃工場_8_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 8
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 방 가득 모니터와 계기, 스위치가 있는 방으로 나왔다.
			WSTR:(K++) = 아무래도 공장 내부를 감시하기 위한 설비인 듯하다. 모두 고장 나 버렸지만……
			WSTR:(K++) = ……주변을 찾아보니, 금속으로 된 플레이트를 발견했다._PAGE
			WSTR:(K++) = 플레이트에는 「냉각 장치 조작 순서」라고 쓰여 있다.
			WSTR:(K++) = 「・공장 내부가 비정상적으로 가열된 경우, 입구 왼쪽의 냉각 장치를 기동할 것.
			WSTR:(K++) = 　・그때, 냉각 장소를 설정하기 위해 기계 지식이 있는 직원이 조작할 것.
			WSTR:(K++) = 　・덥다고 해서 시원해지기 위해 냉각 장치를 사용하지 말 것」
			WSTR:(K++) = ……라고 쓰여 있다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 「냉각 장치 조작 순서」라고 쓰인 플레이트가 있다.
			KSTR:(K++) = 「・공장 내부가 비정상적으로 가열된 경우, 입구 왼쪽의 냉각 장치를 기동할 것.
			KSTR:(K++) = 　・그때, 냉각 장소를 설정하기 위해 기계 지식이 있는 직원이 조작할 것.
			KSTR:(K++) = 　・덥다고 해서 시원해지기 위해 냉각 장치를 사용하지 말 것」
			KSTR:(K++) = ……라고 쓰여 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_8_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 8
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "8_5")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0 && GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:7, 4)
			;開くパターン
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 손에 넣은 카드키로 문을 열었다.
			SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			KSTR:(K++) = 이미 카드키 문은 열려 있다.
		ELSEIF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 길의 끝에는 매끄러운 문이 길을 막고 있다.
			WSTR:(K++) = 문에는 손잡이가 없고, 열려고 해도 꼼짝도 하지 않는다.
			WSTR:(K++) = 문 옆에는 길쭉한 구멍이 하나 뚫려 있었다.
WSTR:(K++) = 이것이 열쇠 구멍일까……? 어딘가에서 판 모양의 물건을 찾으면 시험해 보자.
		ELSE
			KSTR:(K++) = 문은 열릴 것 같지 않다.
			KSTR:(K++) = 문 옆에는 길고 가는 구멍이 하나 뚫려 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_バルツ地下廃工場_10_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;アイテムあるパターン
			WSTR:(K++) = %CALLNAME:PLAYER%는 방 안쪽에 큰 레버를 발견했다.
			WSTR:(K++) = 레버 위에는 금속 플레이트가 붙어 있으며, 「벨트 컨베이어 기동 스위치」라고 쓰여 있다.
			KSTR:(K++) = 레버를 내리겠습니까?
			KSTR:(K++) = BUTTON_[예]
			KSTR:(K++) = BUTTON_[아니요]
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[예]"
					IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:13:5, 4)
						WSTR:(K++) = 레버를 내리자, 웅웅 소리를 내며 벨트 컨베이어가 움직이기 시작했다.
						WSTR:(K++) = 주변이 여러 가지로 변했을지도 모른다. 다시 한번 탐색해 보자.
						CALL メッセージ欄表示用関数(,,,0)
						SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
					ELSE
						WSTR:(K++) = 레버를 내리려 했지만, 도중에 잠겨 있다.
						WSTR:(K++) = 아무래도 벨트 컨베이어 도중의 문이 닫혀 있는 것이 원인인 것 같다.
						WSTR:(K++) = 어딘가에 그럴듯한 문이 있었을까? 찾아서 열어 보자.
						CALL メッセージ欄表示用関数(,,,0)
					ENDIF
				CASE "[아니요]"
					WSTR:(K++) = 바로 만지지 말고, 일단 놓아두자.
					CALL メッセージ欄表示用関数(,,,0)
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE
			ENDSELECT
		ELSE
			KSTR:(K++) = 이미 벨트 컨베이어는 작동 중이다.
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_10_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:1, 4)
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "11_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_1")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0 && GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:1, 4)
			;アイテムあるパターン
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 벨트 컨베이어를 따라 흘러오는 마석의 산을 발견했다.
			WSTR:(K++) = 기계의 동력용으로 보존되어 있던 자재일까?
			WSTR:(K++) = 다행히도, 아직 쓸 수 있는 마석이 많이 남아있다. 감사히 받아가자.
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 마석 10개를 손에 넣었다.
			SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			CALL アイテム増減汎用処理("魔石", 10)
		ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			KSTR:(K++) = 특별히 눈에 띄는 것은 더 이상 없다.
		ELSEIF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 벨트 컨베이어 위에는 아무것도 없다.
			WSTR:(K++) = 주변에도 특별히 달라진 점은 없는 것 같다.
		ELSE
			KSTR:(K++) = 벨트 컨베이어 위에는 아무것도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 接続ルート全開放処理(マス深度, マス分岐)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_10_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:1, 4)
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_7")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0 && GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:1, 4)
			;アイテムあるパターン
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 벨트 컨베이어를 따라 흘러오는 종이 뭉치를 발견했다.
			WSTR:(K++) = ……아무래도 성정수 콜로서스를 다운그레이드한 기체의 설계도인 것 같다.
			IF 鍛冶場作成許可フラグ
				WSTR:(K++) = 이것이 있다면, 새로운 탑승기를 생산할 수 있을 것 같다!
			ELSE
				WSTR:(K++) = 어딘가에 도움이 될지도 모른다. 받아가자.
			ENDIF
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 「콜로서스 레플리카 설계도」를 손에 넣었다.
			CALL 乗機取得処理_設計図("コロッサスレプリカ")
			SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
		ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			KSTR:(K++) = 특별히 눈에 띄는 것은 더 이상 없다.
		ELSEIF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 벨트 컨베이어 위에는 아무것도 없다.
WSTR:(K++) = 주변에도 특별히 달라진 점은 없는 것 같다.
		ELSE
KSTR:(K++) = 벨트 컨베이어 위에는 아무것도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 接続ルート全開放処理(マス深度, マス分岐)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_10_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン_赤
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_7")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "8_7")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
WSTR:(K++) = 벨트 컨베이어 위에, 지금까지의 폭주 기계와는 다른 거대한 기계가 자리 잡고 있다.
WSTR:(K++) = 동작은 불규칙하고, 멀리서 봐도 폭주하고 있다는 것을 알 수 있지만…… 상당히 강해 보이는 상대인 것 같다.
WSTR:(K++) = 하지만 거대하기 때문에 사각지대도 많다. 쓰러뜨리지 않아도 안쪽으로 나아갈 수 있을 것 같다._PAGE
KSTR:(K++) = 거대한 기계와 싸우겠습니까?
KSTR:(K++) = BUTTON_[예]
KSTR:(K++) = BUTTON_[아니요]
			CALL メッセージ欄表示用関数(,,,0)
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[예]"
					CALL 口上変数初期化
					WSTR:(K++) = %CALLNAME:PLAYER%들은 무기를 들고, 거대한 기계에 싸움을 걸었다!
					CALL メッセージ欄表示用関数(,,,0)
					敵BATTLE_STATE_STR:0:エネミー名 = Lv16_거대 관리 기계
					CALL 雑魚敵遭遇汎用処理
					IF RESULT == 0
						;勝利時のみ先へ進む
						CALL 口上変数初期化
						WSTR:(K++) = %CALLNAME:PLAYER%들은 무사히 거대 기계를 제압했다!
						WSTR:(K++) = 전투의 충격으로 기계의 뒷면 커버가 벗겨지자, 그곳에는 판 모양의 부품이 박혀 있는 모습이 보인다.
						WSTR:(K++) = 방금 본 「어떻게 해도 열리지 않는 문」 옆에 있던, 슬릿 모양의 구멍에 크기가 딱 맞는 것 같다.
						WSTR:(K++) = 이것을 사용하면 그 문이 열릴지도 모른다. 시험해 보자.
						WSTR:(K++) = %CALLNAME:PLAYER%은(는) 카드키를 손에 넣었다!
						CALL メッセージ欄表示用関数(,,,0)
						SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
					ENDIF
				CASE "[아니요]"
					CALL 口上変数初期化
					WSTR:(K++) = 상대는 강적이다. 준비를 철저히 하고 도전하자.
					CALL メッセージ欄表示用関数(,,,0)
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE
			ENDSELECT
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 거대 관리 기계와의 싸움의 기억을 떠올리겠습니까?
			KSTR:(K++) = (중간 보스와 재전)
			KSTR:(K++) = BUTTON_[예]
			KSTR:(K++) = BUTTON_[아니요]
			CALL メッセージ欄表示用関数(,,,0)
			$LOOP_MESSAGE2
			INPUTS
			SELECTCASE RESULTS
				CASE "[예]"
					敵BATTLE_STATE_STR:0:エネミー名 = Lv16_거대 관리 기계
					CALL 雑魚敵遭遇汎用処理
				CASE "[아니요]"
					CALL 口上変数初期化
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE2
			ENDSELECT
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_11_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 11
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:1, 4)
			ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_3")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0 && GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:1, 4)
			;敵がいるパターン
			WSTR:(K++) = 웅웅 소리를 내며 벨트 컨베이어가 움직이고 있다.
			WSTR:(K++) = ……이런 벨트 컨베이어가 폭주한 기계를 운반해 와 버렸다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:1:エネミー名 = Lv12_폭주 기계A
			敵BATTLE_STATE_STR:5:エネミー名 = Lv12_폭주 기계A
			敵BATTLE_STATE_STR:2:エネミー名 = Lv12_폭주 기계B
			敵BATTLE_STATE_STR:4:エネミー名 = Lv12_폭주 기계B
			敵BATTLE_STATE_STR:6:エネミー名 = Lv12_폭주 기계B
			CALL 雑魚敵遭遇汎用処理

			WSTR:(K++) = 또 벨트 컨베이어가 새로운 적을 운반해 올지도 모른다.
			WSTR:(K++) = %CALLNAME:PLAYER%들은 서둘러 이곳을 떠났다.
			CALL メッセージ欄表示用関数(,,,0)
			SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
		ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			敵BATTLE_STATE_STR:1:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:5:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:2:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:4:エネミー名 = Lv12_暴走機械B
			敵BATTLE_STATE_STR:6:エネミー名 = Lv12_暴走機械B
			CALL 雑魚敵繰り返し戦闘処理
		ELSEIF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 벨트 컨베이어 위에는 아무것도 없다.
			WSTR:(K++) = 주변에도 특별히 달라진 점은 없는 것 같다.
			CALL メッセージ欄表示用関数(,,,0)
		ELSE
			KSTR:(K++) = 벨트 컨베이어 위에는 아무것도 없다.
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 接続ルート全開放処理(マス深度, マス分岐)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_12_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_7")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 고장 난 벨트 컨베이어의 좌우에, 커다란 팔을 단 기계들이 늘어서 있다.
			WSTR:(K++) = 컨베이어로 흘러온 자재를 분류하기 위한 기계로 보이지만……
			WSTR:(K++) = ……너희들이 다가가자, 팔을 크게 휘두르기 시작한다! 역시 폭주하고 있는 것 같다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:1:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:3:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:4:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:6:エネミー名 = Lv12_暴走機械B
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = %CALLNAME:PLAYER%들은 폭주 기계를 진압했다.
				WSTR:(K++) = 팔 안에, 반짝이는 부품이 보인다…….`
				WSTR:(K++) = 아직 쓸 만한 톱니바퀴다. 모처럼이니 가져가자.
				WSTR:(K++) = %CALLNAME:PLAYER%은(는) 낡은 톱니바퀴를 3개 손에 넣었다!
				CALL 素材入手処理("古びた歯車", 3)
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:1:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:3:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:4:エネミー名 = Lv12_暴走機械A
			敵BATTLE_STATE_STR:6:エネミー名 = Lv12_暴走機械B
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_13_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "11_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_5")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0 && GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:1, 4)
			;アイテムあるパターン
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 벨트 컨베이어를 흘러오는 종이 뭉치를 발견했다.
			WSTR:(K++) = ……하지만, 모두 불에 타서 제대로 읽을 수 없을 것 같다.
			WSTR:(K++) = 시험 삼아 손으로 들어보니, 너덜너덜하게 부서져서 숯 더미가 되어버렸다.
			WSTR:(K++) = 다른 장소를 탐색하자.
			SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
		ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			KSTR:(K++) = 그저 숯 더미밖에 남아있지 않다.
		ELSEIF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 벨트 컨베이어 위에는 아무것도 없다.
			WSTR:(K++) = 주변에도 특별히 특이한 점은 없는 것 같다.
		ELSE
			KSTR:(K++) = 벨트 컨베이어 위에는 아무것도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 接続ルート全開放処理(マス深度, マス分岐)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_13_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "15_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_3")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0 && GETBIT(ダンジョン構造配列_バルツ地下廃工場:10:7, 4)
			;開くパターン
			WSTR:(K++) = %CALLNAME:PLAYER%는 손에 넣은 카드키로 문을 열었다.
			SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			KSTR:(K++) = 이미 카드키 문은 열려 있다.
		ELSEIF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 길의 끝에는 매끄러운 문이 길을 막고 있다.
			WSTR:(K++) = 문에는 손잡이가 없고, 열려고 해도 꼼짝도 하지 않는다.
			WSTR:(K++) = 문 옆에는 길고 가는 구멍이 하나 뚫려 있었다.
			WSTR:(K++) = 이것이 열쇠 구멍일까……? 어딘가에서 판 모양의 물건을 찾으면 시험해 보자.
		ELSE
			KSTR:(K++) = 문은 열릴 것 같지 않다.
			KSTR:(K++) = 문 옆에는 길고 가는 구멍이 하나 뚫려 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_13_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 벨트 컨베이어는 정면과 왼쪽으로 갈라져 이어져 있다.
			WSTR:(K++) = 하지만 정면의 길은 두꺼운 문으로 봉쇄되어 있는 것 같다.
			SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:2:7, 2)
				WSTR:(K++) = 입구 근처에서 본 그 문과 같은 구조인 것 같다.
			WSTR:(K++) = 지금은 그 문을 열 방법이 없는 것 같다. 왼쪽으로 가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 벨트 컨베이어는 정면과 왼쪽으로 갈라져 이어져 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_13_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 下アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_7")
	CASE "マスイベント"
		;1_0へ
		ダンジョン現在位置:0 = 1
		ダンジョン現在位置:1 = 0
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_バルツ地下廃工場_15_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 15
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 카드키 문 안쪽에는 대량의 광석이 쌓여 있는 통로가 있었다.
WSTR:(K++) = 통로는 붕괴되어 더 이상 나아갈 수 없지만, 아직 사용할 수 있는 광석이 많이 남아있다.
WSTR:(K++) = 이 폐공장에서 얻은 것은 모두 가져가도 좋다는 계약이다.
WSTR:(K++) = 사양 말고 가져가자.
WSTR:(K++) = %CALLNAME:PLAYER%은(는) 철광석 3개, 적열광 5개를 손에 넣었다!
			CALL 素材入手処理("鉄鉱石", 3)
			CALL 素材入手処理("赤熱鉱", 5)
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
KSTR:(K++) = 더 이상 사용할 만한 광석은 남아있지 않다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_16_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 16
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
WSTR:(K++) = 통로처럼 되어있지만, 잔해로 무너져 통행할 수 없게 되었다.
WSTR:(K++) = 위치 관계로 보아, 저쪽 벨트 컨베이어 구역에서 광석류를 받기 위한 통로일까?
WSTR:(K++) = 하지만, 이쪽에 남아있는 광석은 모두 풍화되어 사용할 수 없는 것 같다.
			IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:15:5, 2) == 0
WSTR:(K++) = 통로 저편에는 아직 사용할 수 있는 광석이 남아있을지도 모른다.
			ENDIF
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
KSTR:(K++) = 잔해로 무너져 통행할 수 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_17_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 17
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_1")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
WSTR:(K++) = 불의 정령을 물리치고 앞으로 나아가자, 안쪽에서 강한 압박감이 밀려온다!
WSTR:(K++) = 아무래도 상위 정령이 이 앞에 자리 잡고 있는 것 같다…….
WSTR:(K++) = 공장 내에 있는 다른 적들과는 차원이 다른 강함을 느낀다.
WSTR:(K++) = 아마도 _COLOR_%カラーパレット_HTML("真っ赤")%_Lv35 전후_는 되어야 할 것이다.
WSTR:(K++) = 일단 다른 길을 탐색하는 것도 좋을지도 모른다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:18:1, 4)
			;強敵撃破後
			KSTR:(K++) = 강적은 이미 쓰러뜨렸다.
		ELSE
			KSTR:(K++) = 강적의 기척을 느낀다……_COLOR_%カラーパレット_HTML("真っ赤")%_Lv35 전후_는 없으면 힘들 것이다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_17_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 17
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "17_1")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%들이 공장을 나아가자, 불의 정령들이 앞길을 막아서듯이 모여들었다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:5:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:2:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:6:エネミー名 = Lv13_불의 엘리멘탈
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 무사히 정령을 물리쳤지만, 왠지 움직임이 이상했던 것 같다.
				WSTR:(K++) = 대부분의 정령은 가까이 온 자를 공격하는 정도지만, 방금 전의 정령들은 통로의 끝으로 가지 못하게 하려 했다.
				WSTR:(K++) = 무언가가 안쪽에 있는 걸까?
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:5:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:2:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:6:エネミー名 = Lv13_불의 엘리멘탈
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_17_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 17
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "17_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "20_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "16_5")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0 && GETBIT(ダンジョン構造配列_バルツ地下廃工場:0:7, 4)
			;進めるパターン
			WSTR:(K++) = 냉각 장치가 움직여, 공장 내부를 식히고 있다.
			IF 初来訪マス判定用フラグ
				WSTR:(K++) = 아무래도 이 근처는 냉각하지 않으면 지나갈 수 없을 정도로 뜨거워진 것 같다.
			ENDIF
			WSTR:(K++) = 이제 문제없이 통행할 수 있을 것이다. %CALLNAME:PLAYER%들은 앞으로 나아간다.
			SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			KSTR:(K++) = 냉각 장치가 움직여, 공장 내부를 식히고 있다.
		ELSEIF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 통로를 나아가자, 열기가 점점 강해진다.
			WSTR:(K++) = 벽에 맨손으로 닿으면 화상을 입을 것 같을 정도다.
			WSTR:(K++) = 이대로 앞으로 나아가는 것은 자살 행위일 것이다. 어떻게든 열기를 식힐 방법을 찾아야만 한다.
			WSTR:(K++) = %CALLNAME:PLAYER%들은 일단 되돌아가기로 했다……。
		ELSE
			KSTR:(K++) = 어떻게든 열기를 식힐 방법을 찾지 않으면 앞으로 나아갈 수 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_17_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 17
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 下アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "17_5")
	CASE "マスイベント"
		;4_0へ
		ダンジョン現在位置:0 = 4
		ダンジョン現在位置:1 = 0
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_18_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン_赤
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_4")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			CALL 強敵マス確認
			SIF RESULT == 1
				RETURN 0
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%들 앞에, 불의 상위 정령이 모습을 드러낸다.
			WSTR:(K++) = 화염을 뿜어내며 거대한 팔을 휘두르고, 강한 열기를 내뿜고 있다.
			WSTR:(K++) = 정령은 몸을 크게 떨며, %CALLNAME:PLAYER%들을 덮쳐왔다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv35_火霊バルトロメウス
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
				WSTR:(K++) = %CALLNAME:PLAYER%들은 어떻게든 강적을 타도하는 데 성공했다!
				WSTR:(K++) = 강적은 몇 가지 장식품과 재보를 가지고 있었다.
				WSTR:(K++) = 화령 바르톨로메우스에게서 반지 「정령의 반지・불」을 손에 넣었다!
				WSTR:(K++) = 화령 바르톨로메우스에게서 귀걸이 「정령의 귀걸이・불」을 손에 넣었다!
				WSTR:(K++) = 화령 바르톨로메우스에게서 100,000루피를 손에 넣었다!
				MONEY += 100000
				CALL 汎用指輪取得処理("精霊の指輪・火", 3)
				CALL 汎用耳飾り取得処理("精霊の耳飾り・火")
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				CALL 口上変数初期化
			ELSEIF RESULT == -1
				;逃走時
				WSTR:(K++) = %CALLNAME:PLAYER%들은 어떻게든 강적에게서 도망치는 데 성공한다.
				WSTR:(K++) = 다음에는 좀 더 강해지고 나서 도전하자…
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
			ENDIF
		ELSE
			KSTR:(K++) = 강적은 이미 타도한 후다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_18_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;立ち絵リソース記録に必要な画像のリソースを生成する
			CALLF 顔グラ表示用文字列関数(キャラ検索("[緋焔]マーズ"),100,,,1,1)
			LOCALS = %立ち絵リソース記録%
			;最初に訪れた時
			WSTR:(K++) = 불의 상위 정령을 쓰러뜨린 곳에서는, 키 큰 미녀가 잠들어 있었다.
			WSTR:(K++) = 강한 불의 마력과 빛의 마력을 느낀다……아마 그녀는 하늘의 백성이 아닐 것이다. 성정수일 것이다.
			WSTR:(K++) = %CALLNAME:PLAYER%이 한 발짝 다가가자, 그녀는 천천히 눈을 뜬다.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「────상위 정령이 쓰러졌나 했더니」
			WSTR:(K++) = 「특이한 기척의 인간이 아니냐」
			WSTR:(K++) = 미녀는 일어나, %CALLNAME:PLAYER%을(를) 꼼꼼히 바라보고 있다.
			CALL メッセージ欄表示用関数(LOCALS,"謎の美女",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 여기는 기계형 성정수가 사는 곳이 아니냐? 라고 %CALLNAME:PLAYER%은(는) 묻는다.
			WSTR:(K++) = 그녀와 같은 존재가 있다는 것은 소문조차 들어본 적이 없다.
			WSTR:(K++) = 누구에게도 들키지 않은 채, 여기서 잠들어 있었던 것은 왜일까.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「아아, 단순한 이야기야」
			WSTR:(K++) = 「강한 상대를 기다리고 있었어. 상위 정령을 쓰러뜨릴 수 있을 정도의 전사를」
			WSTR:(K++) = 「나와 뜨거운 싸움을 할 수 있을 정도의 상대를 말이야……！」
			CALL メッセージ欄表示用関数(LOCALS,"謎の美女",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 강한 살기를 내리쳐져, %CALLNAME:PLAYER%들은 황급히 무기를 겨눈다.
			WSTR:(K++) = 느껴지는 압박감으로 보아, 그녀는 방금 전의 상위 정령보다 몇 단계나 강하다……！
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 경계하는 %CALLNAME:PLAYER%들을 보고, 그러나 성정수는 살기를 거두었다.
			WSTR:(K++) = 「좋은 반응이야. 지금 당장, 맛봐도 좋지만……」
			WSTR:(K++) = 「……너희들은 더 강해질 거야. 그때를 기다리는 것도 나쁘지 않아」
			WSTR:(K++) = 「지금까지도 잠들어 있었을 정도니까. 조금 기다리는 것쯤, 변함없지」
			CALL メッセージ欄表示用関数(LOCALS,"謎の美女",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 이치는 어쨌든, 상위 정령과 성정수의 연전이 되지 않아 %CALLNAME:PLAYER%은(는) 안도의 한숨을 내쉰다.
			WSTR:(K++) = 그렇다고는 해도, 이 성정수를 완전히 방치하는 것도 그다지 좋지는 않을 것이다.
			WSTR:(K++) = 어디까지 감시할 수 있을지는 모르겠지만…… 밑져야 본전으로 %CALLNAME:PLAYER%은(는) 리조트 섬에 대해 소개했다.
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「헤에……? 리조트는 아무래도 좋지만, 강한 인간들이 모여 있다는 건 좋네」
			WSTR:(K++) = 「심심풀이 정도는 될 거야. 내키면 방해하러 갈게」
			CALL メッセージ欄表示用関数(LOCALS,"謎の美女",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 「나는 성정수 마르스」
			WSTR:(K++) = 「네가 나를 뜨겁게 만들어 줄 때까지, 기다릴게」
			CALL メッセージ欄表示用関数(LOCALS,"星晶獣マーズ",,0)
			CALL 口上変数初期化
			WSTR:(K++) = 리조트에 [비염]마스가 나타나게 되었다!
			LOCAL = GETCHARA(138)
			CFLAG:LOCAL:招待不可フラグ = 0
		ELSE
			KSTR:(K++) = 이제 아무도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_バルツ地下廃工場_20_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 20
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "22_1")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 탐색을 계속하다 보니, 매우 넓은 공간으로 나왔다.
			WSTR:(K++) = 통로처럼 보이기도 하지만, 폭은 가옥이 2, 3채 늘어설 수 있을 정도로 넓다.
			WSTR:(K++) = 아마도 기계형 성정수가 지나다닐 수 있는 넓이일 것이다.
			WSTR:(K++) = 목표로 하는 성정수는 이 앞에서 틀림없을 것 같다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 성정수가 지나다닐 수 있는 넓은 통로가 뻗어 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_20_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 20
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "20_1")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 통로 끝에서, 폭주한 기계에 불의 정령들이 모여 있었다.
			WSTR:(K++) = 적대하고 있는 것은 아니고, 기계의 동력에서 발생하는 불의 마력에 이끌리고 있는 듯하다.
			WSTR:(K++) = 즉, 공존 관계에 있다는 것이다.
			WSTR:(K++) = 그 추측을 뒷받침하듯이, %CALLNAME:PLAYER%들에게 눈치챈 기계들은 연계하여 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:4:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:3:エネミー名 = Lv12_폭주 기계B
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 정령과 기계의 연계를 물리치고, 제압한다.
				WSTR:(K++) = 화력이 높은 정령에게 정신이 팔린 사이에 기계의 큰 기술을 맞는 것은 피하고 싶은 부분이다.
				WSTR:(K++) = 속공으로 쓰러뜨리거나, 아니면 상대의 공격을 방해하거나.
				WSTR:(K++) = 어떠한 대책을 강구할 필요가 있을 것이다.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:4:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:3:エネミー名 = Lv12_폭주 기계B
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_20_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 20
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "20_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "20_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 벽이나 바닥에 닿으면 아직 따뜻하다.
			WSTR:(K++) = 냉각 장치로 기온은 내려가도, 구조물의 내부는 열을 가진 채인 것 같다.
			WSTR:(K++) = 아마도 안쪽에 있는 기계형 성정수의 영향이겠지만……。
			WSTR:(K++) = ……지금까지의 토벌에서 이런 일이 일어났다는 이야기는 듣지 못했다.
			WSTR:(K++) = 뭔가 이상한 일이 일어나고 있을지도 모른다. 조심해서 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 벽이나 바닥에 닿으면 아직 따뜻하다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_20_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 20
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "22_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 옆길에 있던 통로를 따라가 보니, 다소 시원해졌다.
			WSTR:(K++) = 이쪽에는 열기가 별로 돌지 않는 것 같다.
			WSTR:(K++) = 문 위를 보니, 금속 플레이트에 「설계실」이라고 쓰여 있다.
			WSTR:(K++) = 뭔가 쓸 만한 자료라도 남아있지 않을까? 앞을 탐색해 보자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 문 위를 보니 금속 플레이트에 「설계실」이라고 쓰여 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_バルツ地下廃工場_22_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 22
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "22_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "23_1")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 통로 옆으로 파이프가 뻗어 있고, 안에서는 이상한 소리가 나고 있다…….`
			CALL 知識技能所持者検索("機械知識", 1)
			LOCAL = RESULT
			IF LOCAL > -1
				WSTR:(K++) = %CALLNAME:LOCAL%은(는) 서둘러 파이프에 다가가, 설치되어 있던 밸브를 돌렸다.
				WSTR:(K++) = 파이프 내부의 압력이 해제되어, 곧 이상한 소리는 해소되어 간다.
				WSTR:(K++) = 그대로 방치했더라면 파이프가 폭발했을 것이다. 위험할 뻔했다.
				WSTR:(K++) = 다른 위험한 파이프가 없는지 확인하고, %CALLNAME:PLAYER%들은 앞으로 나아간다.
			ELSE
				WSTR:(K++) = 위험해 보이니 가까이 가지 말자.
				WSTR:(K++) = 그렇게 판단한 %CALLNAME:PLAYER%들이 거리를 두자, 갑자기 파이프가 폭발했다!!
				WSTR:(K++) = 모두의 HP가 200 감소했다!
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
				FOR LOCAL, 0, 4
					SIF BATTLE_STATE:LOCAL:キャラ登録番号 < 1
						CONTINUE
					BATTLE_STATE:LOCAL:ＨＰ = MAX(BATTLE_STATE:LOCAL:ＨＰ - 200, 0)
				NEXT
				WSTR:(K++) = 파이프의 내구도는 한계였던 것 같고, 즉시 압력을 약화시켜야 했던 것 같다.
				WSTR:(K++) = 기계 지식이 있었다면 올바르게 판단할 수 있었을지도 모르지만…….`
				WSTR:(K++) = 다른 위험한 파이프가 없는지 확인하고, %CALLNAME:PLAYER%들은 앞으로 나아간다.
			ENDIF
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 더 이상 위험해 보이는 파이프는 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_22_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 22
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "23_3")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 통로 중앙에서 폭주 기계와 불의 정령이 춤추듯이 움직이고 있다.
			WSTR:(K++) = 전망 좋은 이곳에서는 숨어서 나아가기 어려울 것 같다.
			WSTR:(K++) = 무기를 들고, %CALLNAME:PLAYER%들은 싸움을 시작한다.
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:2:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:1:エネミー名 = Lv12_폭주 기계A
			敵BATTLE_STATE_STR:4:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:3:エネミー名 = Lv12_폭주 기계A
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 기계들을 쓰러뜨리고, 주변의 안전을 확보한다.
				WSTR:(K++) = 잠시 후면 또 새로운 기계가 나타나고, 그것에 이끌려 정령들도 돌아올 것이다.
				WSTR:(K++) = 그렇게 되기 전에 앞으로 나아가자.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:2:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:1:エネミー名 = Lv12_폭주 기계A
			敵BATTLE_STATE_STR:4:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:3:エネミー名 = Lv12_폭주 기계A
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_22_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 22
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		IF ダンジョン内一時変数:2 == 0
			ダンジョンマス画像URL_重ね表示 = えっちハート
		ENDIF
	CASE "接続先"
	CASE "マスイベント"
		;えっちイベ
		IF ダンジョン内一時変数:2
		ELSE
			CALL ダンジョンハプニング基本処理()
			IF RESULT
				ダンジョン内一時変数:2 = 1
			ENDIF
			CALL 口上変数初期化
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_22_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 22
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "22_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "23_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 설계실에는 몇몇 오래된 자료가 남아 있었다.
			WSTR:(K++) = 보존 상태가 좋았던 것인지, 어느 정도 읽을 수 있는 상태로 남아 있다.
			WSTR:(K++) = 역사적으로도 귀중한 자료다. 바르츠 대공에게 보고하면 사들일 것이다.
			WSTR:(K++) = %CALLNAME:PLAYER%는 50,000루피를 손에 넣었다!
			MONEY += 50000
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 이제 눈에 띄는 자료는 남아있지 않다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_23_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 23
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;24_1へ
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 넓은 통로를 봉쇄하는 거대한 격벽이 내려와 있다.
			WSTR:(K++) = 하지만 격벽 또한 고온에 노출되어 녹아버렸다.
			WSTR:(K++) = 두꺼운 격벽을 녹일 정도의 화력은 역시 성정수의 것일까?
			WSTR:(K++) = 냉각 장치가 작동하고 있는 이상, 그렇게 위험하지는 않다고 생각하지만…… 조심해서 나아가자.
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(24, 1)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 24
		ダンジョン現在位置:1 = 1
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_23_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 23
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 토사에 묻힌 출입구를 발견했다.
			WSTR:(K++) = 구조상 지상으로 통하는 것 같지만, 이곳을 파내는 데는 상당한 세월이 걸릴 것이다.
			WSTR:(K++) = 아마도 이곳에서 기계형 성정수를 출격시키는 구조였던 것이 아닐까?
			WSTR:(K++) = 하지만 지금은 쓸모없을 것 같다. 다른 곳을 탐색하자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 출입구는 토사에 묻혀 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_23_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 23
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 설계실 안쪽에서 흥미로운 설계도 묶음을 발견했다.
			WSTR:(K++) = 탈것에 장착하여 운용하는 타입의 범용적인 무기 제작법이다.
			IF 鍛冶場作成許可フラグ
				WSTR:(K++) = 이것이 있다면 새로운 탑승기용 무기를 생산할 수 있을 것 같다!
			ELSE
				WSTR:(K++) = 어딘가에 도움이 될지도 모른다. 가져가자.
			ENDIF
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 여러 탑재 병기의 설계도를 손에 넣었다!
			CALL 汎用搭載兵器取得処理_設計図("10mmバルカン砲")
			CALL 汎用搭載兵器取得処理_設計図("19mm狙撃砲")
			CALL 汎用搭載兵器取得処理_設計図("30mm榴弾砲")
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 더 이상 눈에 띄는 것은 아무것도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_24_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 24
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "26_1")
	CASE "マスイベント"
		;23_1へ
		ダンジョン現在位置:0 = 23
		ダンジョン現在位置:1 = 1
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_25_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 25
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン_赤
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			CALL 強敵マス確認
			SIF RESULT == 1
				RETURN 0
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%들은 폐공장의 가장 안쪽에 도착했다.
			WSTR:(K++) = 격납고처럼 되어 있는 그곳에는, 검은 강철로 만들어진 거인이 서 있다.
			WSTR:(K++) = 하지만, 그 거인은 역시 의뢰 정보대로 폭주하고 있는 것 같다.
			WSTR:(K++) = %CALLNAME:PLAYER%들의 모습을 확인하자마자 기동하여, 너희들을 덮쳐온다!!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv18_コロッサス
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;立ち絵リソース記録に必要な画像のリソースを生成する
				CALLF 顔グラ表示用文字列関数(キャラ検索("[鋼鉄の巨人]コロッサス"),100,,,1,1)
				LOCALS = %立ち絵リソース記録%
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = %CALLNAME:PLAYER%들은 콜로서스를 쓰러뜨린다.
				WSTR:(K++) = 그러자 폭주 상태가 해제된 것인지, 콜로서스는 적의를 거두고 얌전해진 것 같다.
				WSTR:(K++) = 빨갛게 점등되어 있던 아이 램프도 노란색이 되어, 너희들을 바라보고 있는 것처럼 보인다.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
				WSTR:(K++) = 「────」
				CALL メッセージ欄表示用関数(LOCALS,"星晶獣コロッサス",,0)
				CALL 口上変数初期化
				WSTR:(K++) = 콜로서스가 몸을 뒤척이며, 기체에서 소리를 낸다.
				WSTR:(K++) = 그저 구동음인 것 같지만, %CALLNAME:PLAYER%은(는) 어쩐지 무엇을 말하고 싶은지 알 수 있다……
				WSTR:(K++) = 이것도 성정수 era와의 계약의 영향일까……?
				CALL メッセージ欄表示用関数(LOCALS,"星晶獣コロッサス",,0)
				CALL 口上変数初期化
				WSTR:(K++) = 콜로서스는 폭주를 멈춰주어 %CALLNAME:PLAYER%들에게 감사하고 있는 것 같다.
				WSTR:(K++) = 게다가 뭔가 보답하고 싶은 마음이 있다는 것도 전해져 온다.
				CALL メッセージ欄表示用関数(LOCALS,"星晶獣コロッサス",,0)
				IF 鍛冶場作成許可フラグ == 0
					CALL 口上変数初期化
					WSTR:(K++) = 그렇다면, 하고 %CALLNAME:PLAYER%는 한 번 리조트를 방문해 달라고 부탁한다.
					WSTR:(K++) = 강한 장비를 만들기 위한 시설 제작을 도와줬으면 한다고 전해봤다.
					CALL メッセージ欄表示用関数(,,,0)
					CALL 口上変数初期化
					WSTR:(K++) = 「────」
					WSTR:(K++) = 콜로서스는 문제없다는 듯 구동음을 울린다.
					WSTR:(K++) = 그리고 성정수로서의 힘을 사용하여, 빛을 %CALLNAME:PLAYER%의 눈앞에 모으자────
					CALL メッセージ欄表示用関数(LOCALS,"星晶獣コロッサス",,0)
				ELSE
					CALL 口上変数初期化
					WSTR:(K++) = %CALLNAME:PLAYER%은(는) 성정수에게 사정을 이야기한다.
					WSTR:(K++) = 대장간 시설을 만들 것이므로, 그 참고가 될 것이라고 권유받아 왔다고.
					CALL メッセージ欄表示用関数(,,,0)
					CALL 口上変数初期化
					WSTR:(K++) = 「────」
					WSTR:(K++) = 그렇다면, 하고 콜로서스는 대장간 시설 개량에 힘을 쓰자고 제안한다.
					WSTR:(K++) = 시설에 콜로서스의 힘을 사용하면, 바르츠의 시설에 뒤지지 않는 효율을 낼 수 있을 것이라고.
					CALL メッセージ欄表示用関数(LOCALS,"星晶獣コロッサス",,0)
					CALL 口上変数初期化
					WSTR:(K++) = 그럼 같이 와주지 않겠나, 하고 %CALLNAME:PLAYER%이(가) 콜로서스를 유혹한다.
					WSTR:(K++) = 그러자 콜로서스는 성정수로서의 힘을 사용하여, 빛을 %CALLNAME:PLAYER%의 눈앞에 모아────
					CALL メッセージ欄表示用関数(,,,0)
				ENDIF
				$選択肢ラベル
				CALL 口上変数初期化
				KSTR:(K++) = ※성정수 콜로서스의 취급에 대해 선택할 수 있습니다.
				KSTR:(K++) = 　임의의 선택지를 골라주세요.
				KSTR:(K++) = BUTTON_[인간 크기의 콜로서스로 활동한다]
				KSTR:(K++) = BUTTON_[콜로마그 짱으로 활동한다]
				KSTR:(K++) = BUTTON_[콜로마그 짱이 뭐야?]_（설명을 표시. 이것을 선택해도 시나리오는 진행되지 않습니다）
				CALL メッセージ欄表示用関数(,,,0)
				$LOOP_MESSAGE
				INPUTS
				SELECTCASE RESULTS
					CASE "[인간 크기의 콜로서스로 활동한다]"
						CALL 口上変数初期化
						WSTR:(K++) = 빛이 걷히자, %CALLNAME:PLAYER% 앞에 2m를 넘는 강철 갑옷이 우뚝 서 있다.
						WSTR:(K++) = 아무래도 인간 시설에서 활동할 수 있는 크기의 분신을 만들어 준 것 같다.
						WSTR:(K++) = 협력을 얻을 수 있다면 빠른 편이 좋다.
						WSTR:(K++) = %CALLNAME:PLAYER%는 즉시 성정수 콜로서스를 데리고 리조트로 돌아가기로 했다._PAGE
						WSTR:(K++) = 리조트에 [강철의 거인] 콜로서스가 찾아오게 되었다!
						IF 鍛冶場作成許可フラグ == 0
							WSTR:(K++) = 시설 개조 「대장간 시설」이 해방되었다!
							WSTR:(K++) = 도구점에 「불의 마석」이 추가되었다!
						ELSE
							WSTR:(K++) = 대장간 시설에서 소비하는 루피 금액이 １０％ 감소했다!
						ENDIF
						LOCAL = GETCHARA(136)
					CASE "[콜로마그 짱으로 활동한다]"
						;立ち絵リソース記録に必要な画像のリソースを生成する
						CALLF 顔グラ表示用文字列関数(キャラ検索("[こうてつのきょじん]コロマグちゃん"),100,,,1,1)
						LOCALS = %立ち絵リソース記録%
						CALL 口上変数初期化
						WSTR:(K++) = 빛이 걷히자, %CALLNAME:PLAYER% 앞에 120cm 정도의 드라프족 소녀가 서 있었다.
						WSTR:(K++) = 아무래도 인간 시설에서 활동할 수 있는 크기의 분신을 만들어 준 것 같다.
						WSTR:(K++) = 협력을 얻을 수 있다면 빠른 편이 좋다.
						WSTR:(K++) = %CALLNAME:PLAYER%은(는) 즉시 성정수 콜로서스를 데리고 리조트로 돌아가기로 했다.
						CALL メッセージ欄表示用関数(LOCALS,"コロマグちゃん",,0)
						CALL 口上変数初期化
						WSTR:(K++) = 리조트에 [강철의 거인] 콜로마그 쨩이 찾아오게 되었다!
						IF 鍛冶場作成許可フラグ == 0
							WSTR:(K++) = 시설 개조 「대장간 시설」이 해방되었다!
							WSTR:(K++) = 도구점에 「불의 마석」이 추가되었다!
						ELSE
							WSTR:(K++) = 대장간 시설에서 소비하는 루피 금액이 10% 감소했다!
						ENDIF
						LOCAL = GETCHARA(137)
					CASE "[콜로마그 짱이 뭐야?]"
						CALL 口上変数初期化
						WSTR:(K++) = ■콜로마그 쨩
						WSTR:(K++) = 　2차 창작으로 탄생한 캐릭터.
						KSTR:(K++) = 　「격파된 콜로서스 마그나의 조종석에서 발견되어, 그대로 기공단에서 보호받아
						WSTR:(K++) = 　　행동을 함께하게 된 10세 전후의 드라프족 소녀」라는 설정.
						WSTR:(K++) = 　콜로서스를 연상시키는 무늬가 들어간 큰 뿔을 가지고, 길고 흰 머리카락을 휘날리는 과묵하고 무표정한 소녀.
						WSTR:(K++) = 　그 정체는 불명이지만, erablue_resort에서는 「콜로서스의 정신을 인간화한 존재」로 취급한다.
						CALL メッセージ欄表示用関数(,,,0)
						GOTO 選択肢ラベル
					CASEELSE
						CLEARLINE 1
					REUSELASTLINE  
						GOTO LOOP_MESSAGE
				ENDSELECT
				WSTR:(K++) = 반지 「콜로서스의 반지」를 손에 넣었다!
				WSTR:(K++) = 탑재 병기 「메탈 디스트로이어」를 손에 넣었다!
				WSTR:(K++) = 바르츠 지하 폐공장을 클리어했습니다, 귀환합니다.
				CALL 汎用指輪取得処理("コロッサスの指輪", 1)
				CALL 汎用搭載兵器取得処理("メタル・デストロイヤー")
				CALL メッセージ欄表示用関数(,,,0)
				鍛冶場作成許可フラグ = 1
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
				CALL イベント完了フラグ汎用処理("【条件確認】強い装備が作れないか？")
				CFLAG:LOCAL:招待不可フラグ = 0
				CFLAG:LOCAL:信頼度 = 2000
				CALL FAVOR_LvUPCheck(LOCAL)
				CALL 口上変数初期化
				ダンジョン終了状況 = 討伐達成
				ダンジョンクリアフラグ_バルツ地下廃工場 = 1
			ENDIF
		ELSE
KSTR:(K++) = 콜로서스와의 싸움의 기억을 떠올리겠습니까?
			KSTR:(K++) = (보스와 재전)
			KSTR:(K++) = BUTTON_[예]
			KSTR:(K++) = BUTTON_[아니요]
			CALL メッセージ欄表示用関数(,,,0)
			$LOOP_MESSAGE2
			INPUTS
			SELECTCASE RESULTS
				CASE "[예]"
					敵BATTLE_STATE_STR:0:エネミー名 = Lv18_콜로서스
					CALL 雑魚敵遭遇汎用処理
					IF RESULT == 0
						CALL 口上変数初期化
						WSTR:(K++) = 반지 「콜로서스의 반지」를 손에 넣었다!
						CALL 汎用指輪取得処理("コロッサスの指輪", 1)
						CALL メッセージ欄表示用関数(,,,0)
					ENDIF
				CASE "[아니요]"
					CALL 口上変数初期化
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE2
			ENDSELECT
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_25_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 25
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "25_5")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = ……!
			WSTR:(K++) = %CALLNAME:PLAYER%일행이 폐공장을 나아가자, 열기가 더욱 강해졌다.
			WSTR:(K++) = 게다가 안쪽에서 강한 마력을 느낀다.
			WSTR:(K++) = 아마도 이 앞에 「기계형 성정수」가 있을 것이다.
			WSTR:(K++) = 싸울 생각이라면 지금 미리 준비를 해두는 편이 좋다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 이 안쪽에 기계형 성정수가 있을 것 같다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_26_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 26
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "26_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "28_1")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 통로 옆에, 조립 중인 듯한 기계형 성정수의 부품이 굴러다니고 있다.
			WSTR:(K++) = 부품에서 불의 마력을 느끼는지 불의 정령들이 모여있는 듯하다.
			WSTR:(K++) = 다행히도 그쪽에 정신이 팔려있는지 %CALLNAME:PLAYER%일행에게 덤벼들 기색은 없다. 앞으로 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 통로 옆에 조립 중인 듯한 기계형 성정수의 부품이 굴러다니고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_26_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 26
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "28_4")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 통로를 돌아서자, 대량의 불의 정령이 통로에 넘쳐흐른다.
			WSTR:(K++) = 앞에 있던 정령들과 마찬가지로, 조립 전의 부품에 이끌리고 있는 듯하다.
			WSTR:(K++) = 하지만 이 장소에서는 들키지 않고 나아가기는 어렵다. 싸워서 나아가야만 한다.
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:0:エネミー名 = Lv13_火のエレメンタル
			敵BATTLE_STATE_STR:3:エネミー名 = Lv13_火のエレメンタル
			敵BATTLE_STATE_STR:4:エネミー名 = Lv13_火のエレメンタル
			敵BATTLE_STATE_STR:7:エネミー名 = Lv13_火のエレメンタル
			敵BATTLE_STATE_STR:8:エネミー名 = Lv13_火のエレメンタル
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 정령을 흩뿌려 길을 확보한다.
				WSTR:(K++) = 아무래도 정령들이 모여 있던 부품은 무기 부품인 듯하다.
				WSTR:(K++) = 드물게 패키지째 남아있으며, 무기 도면도 부속되어 있다.
				IF 鍛冶場作成許可フラグ
					WSTR:(K++) = 탑승기의 빈 공간에 장비시킬 수 있을지도 모른다. 가져가자.
				ELSE
					WSTR:(K++) = 무언가 도움이 될지도 모른다. 가져가자.
				ENDIF
				WSTR:(K++) = %CALLNAME:PLAYER%은(는) 탑재 병기 「근접용 블레이드」와 그 설계도를 손에 넣었다!
				CALL 汎用搭載兵器取得処理("近接用ブレード")
				CALL 汎用搭載兵器取得処理_設計図("近接用ブレード")
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:0:エネミー名 = Lv13_火のエレメンタル
			敵BATTLE_STATE_STR:3:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:4:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:7:エネミー名 = Lv13_불의 엘리멘탈
			敵BATTLE_STATE_STR:8:エネミー名 = Lv13_불의 엘리멘탈
			CALL 雑魚敵繰り返し戦闘処理
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_27_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 27
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "27_7")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 창고 안을 조사해 보지만, 모두 망가져서 제대로 된 병기는 남아있지 않은 것 같다.
			WSTR:(K++) = 조금 더 안쪽도 조사해 보자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 제대로 된 병기는 남아있지 않다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_27_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 27
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 여전히 망가진 병기들만 굴러다니고 있다.
			WSTR:(K++) = 혹시 뭔가 건질 만한 것이 없을까 찾고 있는데, 벽의 눈에 띄는 곳에서 빨간 상자를 발견했다.
			WSTR:(K++) = 상자에는 「긴급 시용 소생약」이라고 쓰여 있다.
			WSTR:(K++) = 열어보니, 지금도 쓸 수 있을 것 같은 소생약이 2개 들어 있었다.
			WSTR:(K++) = 사고가 일어났을 때를 대비한 것일까. 여기에 두어도 어쩔 수 없다. 감사히 받아가자.
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 「소생약」을 2개 손에 넣었다!
			CALL アイテム増減汎用処理("蘇生薬", 2)
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 더 이상 눈에 띄는 것은 아무것도 없다
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_28_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 28
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "28_3")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 많은 기계형 성정수가, 망가진 상태로 굴러다니고 있다.
			WSTR:(K++) = 이 폐공장은 고대 사고로 봉쇄되었고, 최근 기계형 성정수의 기동과 동시에 봉쇄가 풀렸을 텐데…….
			WSTR:(K++) = 사고라고 하기에는 파손된 기체가 너무 많은 것 같다.
			WSTR:(K++) = 어쨌든, 이것들은 현재 위험이 없는 것 같다.
			WSTR:(K++) = 자세한 조사는 발츠의 전문가에게 맡기고, 우리는 먼저 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 많은 기계형 성정수가 부서진 채 굴러다니고 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_28_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 28
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "31_3")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 또 부서진 기체 옆을 지나가려 하자, 옆에 떨어져 있던 병기 부품이 둥실 떠오른다!
			WSTR:(K++) = 아무래도 병기 내부에 정령이 씌어 움직이는 것 같다.
			WSTR:(K++) = 정령이 씌인 병기는 그대로, %CALLNAME:PLAYER%들에게 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:1:エネミー名 = Lv14_정령이 씌인 병기 부품
			敵BATTLE_STATE_STR:5:エネミー名 = Lv14_정령이 씌인 병기 부품
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 격퇴한 병기에서 정령이 도망쳐 나간다.
				WSTR:(K++) = 기체 자체가 아니라 병기에 씌어 있던 것은 불행 중 다행일 것이다.
				WSTR:(K++) = 저 기체가 가진 장갑의 두께로는 더 애를 먹었을 것이 틀림없다.
				WSTR:(K++) = 잔해를 한쪽으로 치우고 %CALLNAME:PLAYER%들은 먼저 나아간다.
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:1:エネミー名 = Lv14_정령이 씌인 병기 부품
			敵BATTLE_STATE_STR:5:エネミー名 = Lv14_정령이 깃든 병기 부품
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_28_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 28
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "28_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "30_4")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 안으로 들어갈수록 열기가 강해진다. 냉각 장치를 능가하는 열원이 있다는 뜻일 것이다.
			WSTR:(K++) = 지금은 아직 괜찮지만,_COLOR_%カラーパレット_HTML("黄")%_공장 최심부에서는 매 턴 대미지를 받는다_지도 모른다.
			WSTR:(K++) = 이를 막기 위해서는 스스로를 식힐 수 있게 되면 된다.
			WSTR:(K++) = _COLOR_%カラーパレット_HTML("黄")%_수속성이 됨으로써, 턴 대미지를 무효화_할 수 있을 것이다.
			WSTR:(K++) = 수속성 귀걸이를 갖춰두는 것이 좋을지도 모른다.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = _COLOR_%カラーパレット_HTML("黄")%_공장 최심부에서는 매 턴 대미지를 받는다_지도 모른다.
			KSTR:(K++) = _COLOR_%カラーパレット_HTML("黄")%_수속성이 됨으로써, 턴 대미지를 무효화_할 수 있을 것이다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_28_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 28
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "27_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "30_6")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 통로 옆에, 커다란 문을 발견했다.
			WSTR:(K++) = 문 위에는 금속 플레이트로 「병기 관리소」라고 쓰여 있다.
			WSTR:(K++) = 뭔가 쓸모 있는 것이 남아 있을까?
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 문 위에는 금속 플레이트로 「병기 관리소」라고 쓰여 있다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_バルツ地下廃工場_30_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 30
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4)
			ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			WSTR:(K++) = 통로 막다른 곳에 커다란 버튼이 있다.
			IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:31:3, 2)
				WSTR:(K++) = 다른 길에서 봤던, 닫힌 셔터를 여는 버튼일까?
			ENDIF
			WSTR:(K++) = 버튼 위에는 금속 플레이트로 「셔터 개폐」라고 쓰여 있다。_PAGE
			KSTR:(K++) = 버튼을 누르시겠습니까?
			KSTR:(K++) = BUTTON_[예]
			KSTR:(K++) = BUTTON_[아니요]
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[예]"
					WSTR:(K++) = 버튼을 눌러보니, 뭔가 큰 것이 움직이는 듯한 소리가 들려왔다.
					IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:31:3, 2)
						WSTR:(K++) = 닫혀 있던 셔터를 보러 가보자.
					ENDIF
					CALL メッセージ欄表示用関数(,,,0)
					SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
				CASE "[아니요]"
					WSTR:(K++) = 조금 더 다른 장소도 탐색해 보자.
					CALL メッセージ欄表示用関数(,,,0)
				CASEELSE
					CLEARLINE 1
					REUSELASTLINE  
					GOTO LOOP_MESSAGE
			ENDSELECT
		ELSE
			KSTR:(K++) = 버튼은 이미 눌려 있다.
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_30_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 30
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "30_7")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			;最初に訪れた時
			WSTR:(K++) = 창고 안에서 현존하는 병기를 발견했다.
			WSTR:(K++) = ……라고 생각했더니, 병기가 저절로 움직이기 시작했다!
			WSTR:(K++) = 불의 정령이 내부에 씌어 있는 듯하다. 병기의 몸째로, 너희에게 덮쳐온다!
			CALL メッセージ欄表示用関数(,,,0)
			敵BATTLE_STATE_STR:3:エネミー名 = Lv14_정령 들린 병기 부품
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 격퇴한 병기에서 정령이 도망쳐 나간다.
				WSTR:(K++) = 정령의 짙은 마력에 노출된 내부 부품은 크게 열화되어 버렸다……
				WSTR:(K++) = ……간단한 부품이라면, 아직 몇 가지 쓸 만한 것이 남아 있다!
				KSTR:(K++) = %CALLNAME:PLAYER%은(는) 낡은 톱니바퀴 3개를 손에 넣었다!_PAGE
WSTR:(K++) = 잔해를 한쪽으로 치우고%CALLNAME:PLAYER%들은 앞으로 나아간다.
				CALL 素材入手処理("古びた歯車", 3)
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ENDIF
		ELSE
			敵BATTLE_STATE_STR:3:エネミー名 = Lv14_정령이 깃든 병기 부품
			CALL 雑魚敵繰り返し戦闘処理
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_30_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 30
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 창고 안쪽에서, 붉게 빛나는 마력의 보주를 발견했다.
			WSTR:(K++) = 내포하는 마력이 짙어, 대형 기계를 움직이기 위한 동력원……이라고 보주를 담은 상자에 쓰여 있다.
			WSTR:(K++) = 다행히 보관함에 들어있었기 때문인지 열화는 거의 보이지 않는다. 감사히 받아가자.
			WSTR:(K++) = %CALLNAME:PLAYER%은(는) 「홍련의 보주」를 1개 손에 넣었다!
			CALL 素材入手処理("紅蓮の宝珠", 1)
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 더 이상 눈에 띄는 것은 아무것도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_バルツ地下廃工場_31_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 31
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
		SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
			ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "31_8")
	CASE "マスイベント"
		IF GETBIT(ダンジョン構造配列_バルツ地下廃工場:30:4, 4)
			;開いてる
			IF 初来訪マス判定用フラグ
				;最初に訪れた時
				WSTR:(K++) = 통로 도중에, 파괴된 기체가 없어진 장소를 발견했다.
				WSTR:(K++) = 지금까지는 많은 부품이 흩어져 있었지만, 이곳부터는 아무것도 떨어져 있지 않다.
				WSTR:(K++) = 그 대신 열기는 더욱 강해지고 있는 것 같다。_PAGE
				WSTR:(K++) = 위를 올려다보니, 셔터가 올라간 상태가 되어 있다.
				WSTR:(K++) = 다른 곳에서 찾은 스위치가 이곳의 셔터를 올리는 것이었을까.
				WSTR:(K++) = 어쨌든, 움직이기 쉬운 만큼 문제는 없다.%CALLNAME:PLAYER%들은 앞으로 나아간다.
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ELSEIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4) == 0
				WSTR:(K++) = 닫혀 있던 셔터가 열려 있다.
				WSTR:(K++) = 또한, 지금까지 있었던 부품이나 부속품의 산란이 이곳부터는 없어졌다.
				WSTR:(K++) = 그 대신 열기는 더욱 강해지고 있는 것 같다.
				WSTR:(K++) = 어쨌든, 움직이기 쉬운 만큼 문제는 없다.%CALLNAME:PLAYER%들은 앞으로 나아간다.
				CALL 接続ルート全開放処理(マス深度, マス分岐)
				SETBIT ダンジョン構造配列_バルツ地下廃工場:マス深度:マス分岐, 4
			ELSE
				KSTR:(K++) = 셔터는 이미 열려 있다.
			ENDIF
		ELSE
			;閉まってる
			IF 初来訪マス判定用フラグ
				;最初に訪れた時
				WSTR:(K++) = 통로 중간에 내화 셔터가 닫혀 있다.
				WSTR:(K++) = 상당히 두꺼워서 파괴하는 것은 현실적이지 않은 것 같다.
				WSTR:(K++) = 어딘가에 개폐하는 장치가 없을까? 찾아보자.
			ELSE
				KSTR:(K++) = 통로 중간에 내화 셔터가 닫혀 있다.
				KSTR:(K++) = 어딘가에 개폐하는 장치가 없을까?
			ENDIF
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_バルツ地下廃工場_31_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 31
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_工場
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "25_8")
	CASE "マスイベント"
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 셔터보다 더 나아가자, 부품이 흩어져 있는 것은 물론 정령이나 폭주 기계의 모습도 보이지 않는다.
			WSTR:(K++) = 장애물이 없는 것은 좋지만…….`
			WSTR:(K++) = 아무래도 평화롭다기보다는, '폭풍 전야의 고요함'이라는 인상을 받는다.
			WSTR:(K++) = 조심해서 나아가자.
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 이 근처에는 아무것도 없다.
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
		CALL 画面再描画
ENDSELECT




