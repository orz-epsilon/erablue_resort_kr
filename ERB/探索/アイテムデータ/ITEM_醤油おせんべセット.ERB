
@アイテム個別文章表示_醤油おせんべセット(ARGS)
;醤油おせんべセット
IF ARGS == "値段"
	詳細文文字列受け渡し変数 = 루피
	RETURN 3500
ENDIF

LOCALS = 
LOCALS += @"■간장 센베 세트　　　소지 수:{DT_CELL_GET("所持アイテムデータベース", 0, "醤油おせんべセット")}<br>"
LOCALS += "맛있는 센베 세트. 간장의 고소한 냄새가 난다.<br>"
LOCALS += "먹으면 기운이 솟아나며, 전원의 체력이 조금 회복된다.<br>"
LOCALS += "전투 중에는 사용할 수 없다.<br>"
LOCALS += "섭취 칼로리: 93kcal<br>"
LOCALS += "<br>"
LOCALS += "【효과】<br>"
LOCALS += "아군 전체의 HP를 [1000] 회복한다.<br>"

詳細文文字列受け渡し変数 = %LOCALS%

@アイテム使用先表示_醤油おせんべセット
;戦闘時使用不可
CALL 汎用使用先表示("味方全体", -1)

@アイテム効果処理_醤油おせんべセット(ARG)
;ARG = 隊列の何番目か

IF DT_CELL_GET("所持アイテムデータベース", 0, "醤油おせんべセット") < 1
	PRINTW 아이템이 없습니다
	RETURN 0
ENDIF

LOCAL:1 = 0
FOR LOCAL, 0, 14
	SIF LOCAL > 3 && LOCAL < 10
		CONTINUE
	SIF !BATTLE_STATE:LOCAL:キャラ登録番号
		CONTINUE
	SIF BATTLE_STATE:LOCAL:ＨＰ < 1
		CONTINUE
	SIF BATTLE_STATE:LOCAL:最大ＨＰ == BATTLE_STATE:LOCAL:ＨＰ
		CONTINUE
	IF BATTLE_STATE:LOCAL:最大ＨＰ - BATTLE_STATE:LOCAL:ＨＰ < 1000
		PRINTFORML %CALLNAME:(BATTLE_STATE:LOCAL:キャラ登録番号)%의 HP를 {BATTLE_STATE:LOCAL:最大ＨＰ - BATTLE_STATE:LOCAL:ＨＰ} 회복했습니다
	ELSE
		PRINTFORML %CALLNAME:(BATTLE_STATE:LOCAL:キャラ登録番号)%의 HP를 1000 회복했습니다
	ENDIF
	BATTLE_STATE:LOCAL:ＨＰ = MIN(BATTLE_STATE:LOCAL:ＨＰ + 1000, BATTLE_STATE:LOCAL:最大ＨＰ)
	TCVAR:(BATTLE_STATE:LOCAL:キャラ登録番号):摂取カロリー += 93
	LOCAL:1 += 1
NEXT

IF LOCAL:1 > 0
	WAIT
ELSE
	PRINTW 회복 가능한 대상이 없습니다.
	RETURN 0
ENDIF

RETURN 1
