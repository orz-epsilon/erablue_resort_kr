

@マップ紹介_20
;とりあえず5行
PRINTFORML ※소개글 모집 중※
PRINTFORML 
PRINTFORML 
PRINTFORML 
PRINTFORML 


@MAP_RESORT_0_20(AA)
#DIMS REF AA, 0
#DIM MAP
VARSET LOCALS

MAP = 0
IF 施設改造度:20:0 == 2
	AA:(MAP++) = １Ｆ　　　　　　　　　　　　　　　　　　　　　　　　　　　２Ｆ
	AA:(MAP++) = ┌─────────┬──┬───┬───────┐　　　┌─────────┬──┬───┬───────┐
	AA:(MAP++) = │　　　　　　　　　│　　├──↑┤　　　　　　　│　　　│　　　　　　　　　│　　├──↓┤　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　│03　├─┼─┤　　　　　　　│　　　│　　　　　　　　　│13　├─┼─┤　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　│　　├─┼─┤　　　　　　　│　　　│　　　　　　　　　│　　├─┼─┤シャワールーム│
	AA:(MAP++) = │　　　　04　　　　├　　┴─┘　│　　　　　　　　　　　│　　　　　　　　　├　　┘　└─┤　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　│　　　　　　　　　　01　　　10→　　│　　　　11　　　　│　　　　　　├─────　─┤
	AA:(MAP++) = │　　　　　　　　　│　　　　　　　　　　　　　　　　　　│　　　　　　　　　│　　　　　　│　　　　　　　│
	AA:(MAP++) = ├─────　　　─┴───　　─┼───────┤　　　│　　　　　　　　　　　　　┌──┘　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　　　　　　　│　　　　　　　│　　　│　　　　　　　　　　　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　　　　　　　　　　　　　　　│　　　│　　　　　　　　　│　　　　　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　　　　　　　　　　　07　　　│　　　├─────────┤　　　　　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　　　　　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　┌─┐　　　├　　─────┤　　　│　　　　　　　　　　　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　05　　　　│　│　　　│　　　　　　　│　　　│　　　　　　　　　　　　　│　　　　　20　　　　│
	AA:(MAP++) = │　　　　　　　　　　│　│　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│　│　　　│　　　　　　　│　　　│　　　　12　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│　│　06　│　　　08　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│　│　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│◯│　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│◯│　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　┌──────┴─┴──┬┴───────┤　　　├─────────┴　┬　┴──────────┤
	AA:(MAP++) = │　　　│　　　　　　　　　　　│　　　　　　　　│　　　│　　　　　　　　　　　│　　　　　　　　　　　　│
	AA:(MAP++) = │　　　│　　　　　　　　　　　│　　　　　　　　│　　　│　　　　　　　　　　　│　　　　　　　　　　　　│
	AA:(MAP++) = │　　　│　　　　　　　　　　　│　　　　　　　　│　　　│　　　　　　　　　　　│　　　　　　　　　　　　│
	AA:(MAP++) = │　　　│　　　　　16　　　　　│　　　　　　　　│　　　│　　　　　　　　　　　│　　　　　　　　　　　　│
	AA:(MAP++) = │　　　│　　　　　　　　　　　│　　　　17　　　│　　　│　　　　14　　　　　　│　　　　　15　　　　　　│
	AA:(MAP++) = │　　　│　　　　　　　　　　　│　　　　　　　　│　　　│　　　　　　　　　　　│　　　　　　　　　　　　│
	AA:(MAP++) = │　　　└　──────────┤　　　　　　　　│　　　│　　　　　　　　　　　│　　　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　　　　　　　　　　　　　　　│　　　│　　　　　　　　　　　│　　　　　　　　　　　　│
	AA:(MAP++) = └──　　　　　─────────────────┘　　　└───────────┴────────────┘
	AA:(MAP++) = ＊　　　　　　　　　　　　　　　　　　　　　　　　＊
	AA:(MAP++) = ＊　　　　　　　　　　　　　　　　　　　　　　　　＊
	AA:(MAP++) = ＊　　　　　09　　　　　　　　　　　　　　　　　　＊
	AA:(MAP++) = ＊　　　　　　　　　　　　　　　　　　　　　　　　＊
	AA:(MAP++) = ＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊
ELSE
	AA:(MAP++) = １Ｆ　　　　　　　　　　　　　　　　　　　　　　　　　　　２Ｆ
	AA:(MAP++) = ┌─────────┬──┬───┬───────┐　　　┌─────────┬──┬───┬───────┐
	AA:(MAP++) = │　　　　　　　　　│　　├──↑┤　　　　　　　│　　　│　　　　　　　　　│　　├──↓┤　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　│03　├─┼─┤　　　　　　　│　　　│　　　　　　　　　│13　├─┼─┤　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　│　　├─┼─┤　　　　　　　│　　　│　　　　　　　　　│　　├─┼─┤シャワールーム│
	AA:(MAP++) = │　　　　04　　　　├　　┴─┘　│　　　　　　　　　　　│　　　　　　　　　├　　┘　└─┤　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　│　　　　　　　　　　01　　　10→　　│　　　　11　　　　│　　　　　　├─────　─┤
	AA:(MAP++) = │　　　　　　　　　│　　　　　　　　　　　　　　　　　　│　　　　　　　　　│　　　　　　│　　　　　　　│
	AA:(MAP++) = ├─────　　　─┴───　　─┼───────┤　　　│　　　　　　　　　　　　　┌──┘　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　　　　　　　│　　　　　　　│　　　│　　　　　　　　　　　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　　　　　　　　　　　　　　　│　　　│　　　　　　　　　│　　　　　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　　　　　　　　　　　07　　　│　　　├─────────┤　　　　　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　　　　　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　┌─┐　　　├　　─────┤　　　│　　　　　　　　　　　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　05　　　　│　│　　　│　　　　　　　│　　　│　　　　　　　　　　　　　│　　　　　20　　　　│
	AA:(MAP++) = │　　　　　　　　　　│　│　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│　│　　　│　　　　　　　│　　　│　　　　12　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│　│　06　│　　　08　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│　│　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│◯│　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = │　　　　　　　　　　│◯│　　　│　　　　　　　│　　　│　　　　　　　　　│　　　│　　　　　　　　　　│
	AA:(MAP++) = └───　　　　───┴─┴───┴───────┘　　　└─────────┴───┴──────────┘
	AA:(MAP++) = ＊　　　　　　　　　　　　　　　　　　　　　　　　＊
	AA:(MAP++) = ＊　　　　　　　　　　　　　　　　　　　　　　　　＊
	AA:(MAP++) = ＊　　　　　09　　　　　　　　　　　　　　　　　　＊
	AA:(MAP++) = ＊　　　　　　　　　　　　　　　　　　　　　　　　＊
	AA:(MAP++) = ＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊
ENDIF
AA:(MAP++) = ∀：自宅玄関　　　　∪：トイレ　　　　　⊆：和室　　　　　　⊇：リビング
AA:(MAP++) = ∋：キッチン　　　　∈：脱衣所　　　　　∽：お風呂場　　　　⊂：自宅庭
AA:(MAP++) = 十：リゾートエリアへ
AA:(MAP++) = 　
IF 同棲部屋割り配列:0 > 0
	LOCALS:0 = %CALLNAME:(同棲部屋割り配列:0)%의 방
ELSE
	LOCALS:0 = 빈 방
ENDIF
IF 同棲部屋割り配列:1 > 0
	LOCALS:1 = %CALLNAME:(同棲部屋割り配列:1)%의 방
ELSE
	LOCALS:1 = 빈 방
ENDIF
IF 同棲部屋割り配列:2 > 0
	LOCALS:2 = %CALLNAME:(同棲部屋割り配列:2)%의 방
ELSE
	LOCALS:2 = 빈 방
ENDIF
IF 同棲部屋割り配列:3 > 0
	LOCALS:3 = %CALLNAME:(同棲部屋割り配列:3)%의 방
ELSE
	LOCALS:3 = 빈 방
ENDIF
IF 同棲部屋割り配列:4 > 0
	LOCALS:4 = %CALLNAME:(同棲部屋割り配列:4)%의 방
ELSE
	LOCALS:4 = 빈 방
ENDIF
IF 同棲部屋割り配列:5 > 0
	LOCALS:5 = %CALLNAME:(同棲部屋割り配列:5)%의 방
ELSE
	LOCALS:5 = 빈 방
ENDIF
AA:(MAP++) = ≪：%LOCALS:0%　　　　≫：%LOCALS:1%　　　　≦：２階トイレ
AA:(MAP++) = †：%LOCALS:2%　　　　‡：%LOCALS:3%　　　　‰：%LOCALS:4%　　　　′：%LOCALS:5%
AA:(MAP++) = ≧：%CALLNAME:MASTER%の部屋



@GETPLACENAME_0_20(ARG)
#FUNCTION
SELECTCASE ARG
	CASE 2000
		TSTR:場所名受渡 = %STR:イベントうふふ場所名%
	CASE 2001
		TSTR:場所名受渡 = 자택 현관
	CASE 2003
		TSTR:場所名受渡 = 화장실
	CASE 2004
		TSTR:場所名受渡 = 일본식 방
	CASE 2005
		TSTR:場所名受渡 = 거실
	CASE 2006
		TSTR:場所名受渡 = 부엌
	CASE 2007
		TSTR:場所名受渡 = 탈의실
	CASE 2008
		TSTR:場所名受渡 = 욕실
	CASE 2009
		TSTR:場所名受渡 = 집 정원
	CASE 2010
		TSTR:場所名受渡 = 리조트 구역으로
	CASE 2011
		IF 同棲部屋割り配列:0 > 0
			TSTR:場所名受渡 = %CALLNAME:(同棲部屋割り配列:0)%의 방
		ELSE
			TSTR:場所名受渡 = 빈방
		ENDIF
	CASE 2012
		IF 同棲部屋割り配列:1 > 0
			TSTR:場所名受渡 = %CALLNAME:(同棲部屋割り配列:1)%의 방
		ELSE
			TSTR:場所名受渡 = 빈방
		ENDIF
	CASE 2013
		TSTR:場所名受渡 = 2층 화장실
	CASE 2014
		IF 同棲部屋割り配列:2 > 0
			TSTR:場所名受渡 = %CALLNAME:(同棲部屋割り配列:2)%의 방
		ELSE
			TSTR:場所名受渡 = 빈방
		ENDIF
	CASE 2015
		IF 同棲部屋割り配列:3 > 0
			TSTR:場所名受渡 = %CALLNAME:(同棲部屋割り配列:3)%의 방
		ELSE
			TSTR:場所名受渡 = 빈 방
		ENDIF
	CASE 2016
		IF 同棲部屋割り配列:4 > 0
			TSTR:場所名受渡 = %CALLNAME:(同棲部屋割り配列:4)%의 방
		ELSE
			TSTR:場所名受渡 = 빈 방
		ENDIF
	CASE 2017
		IF 同棲部屋割り配列:5 > 0
			TSTR:場所名受渡 = %CALLNAME:(同棲部屋割り配列:5)%의 방
		ELSE
			TSTR:場所名受渡 = 빈 방
		ENDIF
	CASE 2020
		TSTR:場所名受渡 = %CALLNAME:MASTER%의 방
ENDSELECT


@DRAW_MAP_BG_0_20(SLICED, 表示文字列)
#DIMS REF 表示文字列
#DIMS SLICED
SELECTCASE SLICED
;下部一覧の数字を表示しつつボタン化させる
CASE "∀"
	表示文字列 += @"<button value='2001'>2001</button>"
CASE "∪"
	表示文字列 += @"<button value='2003'>2003</button>"
CASE "⊆"
	表示文字列 += @"<button value='2004'>2004</button>"
CASE "⊇"
	表示文字列 += @"<button value='2005'>2005</button>"
CASE "∋"
	表示文字列 += @"<button value='2006'>2006</button>"
CASE "∈"
	表示文字列 += @"<button value='2007'>2007</button>"
CASE "∽"
	表示文字列 += @"<button value='2008'>2008</button>"
CASE "⊂"
	表示文字列 += @"<button value='2009'>2009</button>"
CASE "十"
	表示文字列 += @"<button value='2010'>2010</button>"
CASE "≪"
	表示文字列 += @"<button value='2011'>2011</button>"
CASE "≫"
	表示文字列 += @"<button value='2012'>2012</button>"
CASE "≦"
	表示文字列 += @"<button value='2013'>2013</button>"
CASE "†"
	表示文字列 += @"<button value='2014'>2014</button>"
CASE "‡"
	表示文字列 += @"<button value='2015'>2015</button>"
CASE "‰"
	表示文字列 += @"<button value='2016'>2016</button>"
CASE "′"
	表示文字列 += @"<button value='2017'>2017</button>"
CASE "≧"
	表示文字列 += @"<button value='2020'>2020</button>"
CASE "＊"
	表示文字列 += @"<font color='#90EE90'>%SLICED%</font>"
;ふつうの
CASEELSE
	表示文字列 += @"%SLICED%"
ENDSELECT

@自宅改造メニュー()
#FUNCTIONS
;100~199と999は大本のメニュー操作で使うため、使用しないこと

LOCALS = %CALLNAME:MASTER%이(가) 살 집을 건설/개조합니다<br><br>
IF 施設改造度:20:0 < 1
	LOCALS += @"■<button value='200'>[자택 건설]</button>(필요:100,000루피)<br>"
ELSEIF 施設改造度:20:0 < 2
	LOCALS += @"■<button value='201'>[자택 확장]</button>(필요:150,000루피)<br>"
ELSE
	LOCALS += @"■[자택] Lv{施設改造度:20:0}: 상한<br>"
ENDIF

RETURNF LOCALS

@自宅改造実行関数(ARG)

SELECTCASE ARG
	CASE 200
		DRAWLINE
		PRINTL 다음 시설을 갖춘 자택을 건설합니다.
		PRINTBUTTON "■자택 개별 맵 해방", 2000
		PRINTL 
		PRINTBUTTON "■취침 장소 변경", 2001
		PRINTL 
		PRINTBUTTON "■함락 소질 [반려] 해방 조건", 2002
		PRINTL 
		PRINTBUTTON "■자택용 가구 해방", 2003
		PRINTL 
		PRINTL 
		PRINTL 자택을 건설하시겠습니까? (필요: 100,000 루피)
		PRINTBUTTONLC "[0] 예", 0
		PRINTBUTTONLC "[1] 아니오", 1
		INPUT
		SELECTCASE RESULT
			CASE 0
				IF MONEY < 100000
					PRINTW 루피가 부족합니다.
					RETURN
				ENDIF
				施設改造度:20:0 = 1
				MONEY -= 100000
				PRINTW 자택을 건설했습니다!
				CFLAG:MASTER:自室位置 = 2020
				IF CFLAG:MASTER:現在位置 == 20 && CFLAG:MASTER:現在マップ種別 == 0
					CFLAG:MASTER:現在位置 = 2020
				ENDIF
				CALL RESET_GRAPH_0
				CALL 履歴データベース登録(CFLAG:MASTER:人物番号, @"自宅を建設した","実績")
				RETURN
			CASE 1
				RETURN
			CASE 2000
				DRAWLINE
				PRINTL 맵 해방에 따라, 자실이 자택으로 변경되며, 자택으로 이동하면 개별 맵으로 이동하게 됩니다.
				PRINTL 개조가 진행되면 더욱 맵이 확장되어, 내부 시설을 강화할 수 있게 됩니다. (미구현입니다)
				PRINTW
			CASE 2001
				DRAWLINE
				PRINTFORML 자택 건설 이후, %CALLNAME:MASTER%의 취침 장소가 2층 침실로 변경됩니다.
				PRINTL 또한, [반려] 상태가 된 캐릭터의 취침 장소도 이곳으로 변경됩니다.
				PRINTW
			CASE 2002
				DRAWLINE
				PRINTL 함락 소질 [반려]의 해방 조건은 다음 3가지입니다.
				PRINTL ・자택을 건설한다
				PRINTL ・거주지를 업그레이드하여 [교회] 시설을 해방한다 (미구현)
				PRINTL ・「구원의 반지」 시리즈가 제작 가능해진다 (미구현)
				PRINTW 이상의 조건을 만족하면, 연모 상태의 캐릭터를 반려로 삼을 수 있습니다.
			CASE 2003
				DRAWLINE
				PRINTL 통신 판매 라인업에 자택용 가구가 추가됩니다.
				PRINTL 집에서의 전용 커맨드를 해방하는 아이템이 메인이 됩니다.
				PRINTL 마사지를 할 수 있게 되는 마사지 매트나, 포커를 할 수 있게 되는 트럼프 등.
				PRINTW
		ENDSELECT
		RESTART
	CASE 201
		DRAWLINE
		PRINTL 집을 확장하여, 다음 변경 사항을 부여합니다.
		PRINTBUTTON "■집 빈방 추가", 2000
		PRINTL 
		PRINTL 
		PRINTL 집을 확장하시겠습니까? (필요:150,000루피)
		PRINTBUTTONLC "[0] 예", 0
		PRINTBUTTONLC "[1] 아니요", 1
		INPUT
		SELECTCASE RESULT
			CASE 0
				IF MONEY < 150000
					PRINTW 루피가 부족합니다.
					RETURN
				ENDIF
				施設改造度:20:0 = 2
				MONEY -= 150000
				PRINTW 집을 확장했습니다!
				CALL RESET_GRAPH_0
				CALL 履歴データベース登録(CFLAG:MASTER:人物番号, @"自宅を拡張した","実績")
				RETURN
			CASE 1
				RETURN
			CASE 2000
				DRAWLINE
				PRINTL 빈방이 4개 추가됩니다.
				PRINTL 이로 인해, 동거 가능 캐릭터 수가 4명 증가합니다.
				PRINTW
		ENDSELECT
		RESTART
ENDSELECT
