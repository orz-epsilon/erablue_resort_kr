

@MAP_RESORT_0_7(AA)
#DIMS REF AA, 0


AA:00 = 　　　　　　　　　　　　　┏━━━━━━━━━━━━━━━━━━━━━━━┓
AA:01 = ┌───────────┐┃　　　10　　　　　　　　　　　　　　　　　　09→
AA:02 = │　　　　　　　　　　　│┗━━━┳━━━━━━━━━┯━━━━━━━━━┫
AA:03 = │　　　　　　　　　　　│　　　◯┃　　　　　　　　　│　　　　　　　　□┃
AA:04 = │　　　　　　　　　　　│　　　　┃　　　　　　　　　│　　　　　　　　　┃
AA:05 = │　　　　　07　　　　　│　　　◯┃　　　　　　　　　│　　　　　　　　□┃
AA:06 = │　　　　　　　　　　　│　　　08┃　　　　　　　　　│　　　　　　　　　┃
AA:07 = │　　　　　　　　　　　│　　　◯┃　　　　04　　　　│　　　　　　03　□┃
AA:08 = │　　　　　　　　　　　│　　　　┃　　　　　　　　　│　　　　　　　　　┃
AA:09 = └───────────┘　　　◯┃　　　　　　　　　│　　　　　　　　□┃
AA:10 = 　　　　　　　　　　　　　　　　　┃　　　　　　　　　│　　　　　　　　　┃
AA:11 = 　　　　　　　　　　　　　　　　　┃　　　　　　　　　│　　　　　　　　□┃
AA:12 = 　　　　　　　　　　　　　　　　　┠─────────┘　　　　　　　　　┃
AA:13 = 　　　　　　　　　　　　　　　　　┃　　　　　　　　　　　　　┏━━　━━┫
AA:14 = ┏━━━━━━━━━━　　　━━━┛　　　　　　　　　　　　　┃┤　　　├┃
AA:15 = ┃　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　┃┤　　　├┃
AA:16 = ┃　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　┃┤　　　├┃
AA:17 = ┠───────┐　　　　　　　　　　　　┏━━━━━━━━━┫┤　02　├┃
AA:18 = ┃　　　　　　　│　　　　　　　　　　　　┃　　　　　　　　　┃┤　　　├┃
AA:19 = ┃　　　　　　　│　　　　┏━━━━━　━┫　　　　　　　　　┃┤　　　├┃
AA:20 = ┃　　　　　　　│　　　　┃　　　　　　　┃　　　　　　　　　┃┤　　　├┃
AA:21 = ┃　　　05　　　│　　　　┃　　　　　　　┃　　　　11　　　　┣━━　━━┛
AA:22 = ┃　　　　　　　│　　　　┃　　　06　　　┃　　　　　　　　　┃
AA:23 = ┃　　　　　　　│　　　　┃　　　　　　　┃　　
AA:24 = ┃　　　　　　　│　　　　┃　　　　　　　┃　　　　　　　　　┃　　01
AA:25 = ┗━━━━━━━┷━━━━┻━━━━━━━┻━━━━━━━━━┛　　↓
AA:26 = 
AA:27 = 一：ロビーへ　　　　　二：脱衣所　　　　　　三：洗い場
AA:28 = 四：内風呂　　　　　　五：変わり湯　　　　　六：サウナルーム
AA:29 = 七：露天風呂　　　　　八：壺湯　　　　　　　九：女湯へ
AA:30 = 十：覗き用隠し通路　　什：マッサージルーム


@GETPLACENAME_0_7(ARG)
#FUNCTION
SELECTCASE ARG
	CASE 701
		TSTR:場所名受渡 = 로비
	CASE 702
		TSTR:場所名受渡 = 탈의실
	CASE 703
		TSTR:場所名受渡 = 씻는 곳
	CASE 704
		TSTR:場所名受渡 = 실내탕
	CASE 705
		TSTR:場所名受渡 = 이벤트 탕
	CASE 706
		TSTR:場所名受渡 = 사우나실
	CASE 707
		TSTR:場所名受渡 = 노천탕
	CASE 708
		TSTR:場所名受渡 = 항아리탕
	CASE 709
		TSTR:場所名受渡 = 여탕
	CASE 710
		TSTR:場所名受渡 = 엿보기용 비밀 통로
	CASE 711
		TSTR:場所名受渡 = 마사지실
ENDSELECT


@DRAW_MAP_BG_0_7(SLICED, 表示文字列)
#DIMS REF 表示文字列
#DIMS SLICED
SELECTCASE SLICED
;違う文字を表示させる例
;下部一覧の数字を三桁表示しつつボタン化させる
CASE "一"
	表示文字列 += @"<button value='701'>701</button>"
CASE "二"
	表示文字列 += @"<button value='702'>702</button>"
CASE "三"
	表示文字列 += @"<button value='703'>703</button>"
CASE "四"
	表示文字列 += @"<button value='704'>704</button>"
CASE "五"
	表示文字列 += @"<button value='705'>705</button>"
CASE "六"
	表示文字列 += @"<button value='706'>706</button>"
CASE "七"
	表示文字列 += @"<button value='707'>707</button>"
CASE "八"
	表示文字列 += @"<button value='708'>708</button>"
CASE "九"
	表示文字列 += @"<button value='709'>709</button>"
CASE "十"
	表示文字列 += @"<button value='710'>710</button>"
CASE "什"
	表示文字列 += @"<button value='711'>711</button>"
;ふつうの
CASEELSE
	表示文字列 += @"%SLICED%"
ENDSELECT


@風呂場系列改造メニュー()
#FUNCTIONS
;100~199と999は大本のメニュー操作で使うため、使用しないこと

LOCALS = 리조트 하우스에서 이어지는 야외 주변을 개조합니다.<br><br>
IF 施設改造度:7:0 < 1
	LOCALS += @"■<button value='200'>[온천 시설 건설]</button> Lv{施設改造度:7:0}>{施設改造度:7:0 + 1} （필요:300,000루피 & 50ZP）<br>"
ELSE
	LOCALS += @"■[온천 시설 개조] Lv{施設改造度:7:0}：상한<br>"
	IF 施設改造度:7:1 < 1
		LOCALS += @"├■<button value='201'>[이벤트 탕에 약초탕을 추가한다]</button> （필요:50,000루피）<br>"
	ELSE
		LOCALS += @"├■[변온탕에 약초탕을 추가한다] 추가 완료<br>"
	ENDIF
	IF 施設改造度:7:2 < 1
		LOCALS += @"├■<button value='202'>[변온탕에 엘릭서탕을 추가한다]</button> （필요:150,000루피）<br>"
	ELSE
		LOCALS += @"├■[변온탕에 엘릭서탕을 추가한다] 추가 완료<br>"
	ENDIF
	IF 施設改造度:7:3 < 1
		LOCALS += @"└■<button value='203'>[변온탕에 유자탕을 추가한다]</button> （필요:30,000루피）<br>"
	ELSE
		LOCALS += @"└■[변온탕에 유자탕을 추가한다] 추가 완료<br>"
	ENDIF
ENDIF

RETURNF LOCALS


;サウナにいる場合の特殊イベント
@COM_END_PLACEEVENT_0_706
CALL COM_END_PLACEEVENT_0_306
SIF RESULT == 1
	CFLAG:MASTER:現在位置 = 703
RETURN RESULT

@風呂場系列改造実行関数(ARG)
#DIM CONST 薬草湯費 = 50000
#DIM CONST エリクシール湯費 = 150000
#DIM CONST ユズ湯費 = 30000

SELECTCASE ARG
	CASE 200
		DRAWLINE
		PRINTL 대욕장이 온천 시설이 되어, 다음 시설이 도입됩니다.
		PRINTL
		PRINTBUTTON "■남탕・여탕에서 별도의 온천 시설 개별 맵 해방", 300
		PRINTL 
		PRINTBUTTON "■탈의실・세면장・실내탕・노천탕 도입", 301
		PRINTL 
		PRINTBUTTON "■변온탕 도입", 302
		PRINTL 
		PRINTBUTTON "■사우나룸 도입", 303
		PRINTL 
		PRINTBUTTON "■항아리탕 도입", 304
		PRINTL 
		PRINTBUTTON "■엿보기용 비밀 통로 도입", 305
		PRINTL 
		PRINTBUTTON "■마사지룸 도입", 306
		PRINTL 
		PRINTBUTTON "■일정 조건 시, 하루 종료 시 체력 회복량 증가", 307
		PRINTL 
		PRINTL 
		PRINTL 대욕장을 온천 시설로 개조하시겠습니까?（필요:300,000루피 ＆ 50ZP / 유지비:1일5,000루피）
		PRINTBUTTONLC "[0] 예", 0
		PRINTBUTTONLC "[1] 아니요", 1
		BINPUT
		SELECTCASE RESULT
			CASE 0
				IF MONEY < 300000
					PRINTW 루피가 부족합니다.
					RETURN
				ELSEIF FLAG:ZP所持量 < 50
					PRINTW ZP가 부족합니다.
					RETURN
				ENDIF
				施設改造度:7:0 = 1
				施設改造度:8:0 = 1
				MONEY -= 300000
				FLAG:ZP所持量 -= 50
				PRINTL 대중목욕탕을 온천 시설로 개조했습니다!
				IF ダンジョンクリアフラグ_名前を亡くした遺跡
					PRINTW (滞在キャラ上限＋２０)
				ELSE
					PRINTW (滞在キャラ上限＋１０)
				ENDIF
				CALL 滞在可能キャラ数再計算
				CALL RESET_GRAPH_0
				CALL 履歴データベース登録(CFLAG:MASTER:人物番号, @"大浴場を温泉施設Lv1に改造した","実績")
				RETURN
			CASE 1
				RETURN
			CASE 300
				DRAWLINE
				PRINTL 맵 해방으로 인해, 온천 시설로 이동하면 개별 맵으로 이동하게 됩니다.
				PRINTL 남탕・여탕은 별도 맵입니다.
				PRINTL 개조가 진행되면 맵이 더욱 확장되어 내부 시설을 강화할 수 있게 됩니다. (미구현입니다)
				PRINTW
			CASE 301
				DRAWLINE
				PRINTL 기본적인 온천 시설입니다.
				PRINTL 탈의실은 이성 쪽 탈의실에서, 씻는 곳과 실내탕・노천탕은 엿보기용 비밀 통로에서 엿볼 수 있습니다.
				PRINTW
			CASE 302
				DRAWLINE
				PRINTL 매일 내용이 바뀌는 특별탕입니다.
				PRINTL 약초탕이나 전기탕, 유자탕 등이 바뀝니다.
				PRINTL 탕의 내용에 따라 추가 효과가 발생합니다.
				PRINTW 
			CASE 303
				DRAWLINE
				PRINTL 본격적인 사우나를 즐길 수 있는 사우나룸입니다. 냉탕도 함께 있습니다.
				PRINTL 사우나를 좋아하는 자질을 가진 캐릭터는 낮에도 사우나를 즐기고 있을 수 있습니다. (미구현입니다)
				PRINTW 
			CASE 304
				DRAWLINE
				PRINTL 1인용 항아리탕입니다.
				PRINTL 같은 방 캐릭터가 함락되었고, 다른 사람이 없는 경우, 하나의 항아리에 두 명이 들어가서 알콩달콩할 수 있습니다.
				PRINTW 
			CASE 305
				DRAWLINE
				PRINTL 숨겨진 통로에서 안전하게 씻는 곳과 실내탕・노천탕을 엿볼 수 있습니다.
				PRINTL 이 통로에서 밖으로 나갈 수도 있지만, 이성 쪽 온천으로 나가면 쫓겨나니 주의합시다.
				PRINTW 
			CASE 306
				DRAWLINE
				PRINTL 몸을 풀어주는 마사지룸입니다.
				PRINTL 전문 마사지사가 상주하므로 유지비가 듭니다. (1일 5,000루피)
				PRINTL 플레이어 자신이 마사지를 할 수도 있습니다.
				PRINTW 
			CASE 307
				DRAWLINE
				PRINTL 온천의 효과로, 하루 종료 시 체력이 최대치의 절반 이하일 때,
				PRINTL 해당 캐릭터의 하루 종료 시 체력 회복량이 2배가 됩니다.
				PRINTW 
		ENDSELECT
		RESTART
	CASE 201
		DRAWLINE
		PRINTL 변신탕 라인업에 약초탕이 추가됩니다.
		PRINTL 그 효과로 인해, 하루 종료 시 체력 회복 기본값이 +300됩니다.
		PRINTL 
		PRINTFORML 약초탕을 추가하시겠습니까? (필요:{薬草湯費}루피 / 유지비:1일 2,000루피)
		PRINTBUTTONLC "[0] 예", 0
		PRINTBUTTONLC "[1] 아니오", 1
		BINPUT
		SELECTCASE RESULT
			CASE 0
				IF MONEY < 薬草湯費
					PRINTW 루피가 부족합니다.
					RETURN
				ENDIF
				施設改造度:7:1 = 1
				施設改造度:8:1 = 1
				MONEY -= 薬草湯費
				PRINTL 특별탕 라인업에 약초탕을 추가했습니다!
				PRINTW (一日終了時の体力回復基礎値＋３００)
				CALL 履歴データベース登録(CFLAG:MASTER:人物番号, @"変わり湯のラインナップに薬草湯を追加した","実績")
				RETURN
			CASE 1
				RETURN
		ENDSELECT
		RESTART
	CASE 202
		DRAWLINE
		PRINTL 특별탕 라인업에 엘릭서탕이 추가됩니다.
		PRINTL 그 효과로 인해, 다운 상태의 캐릭터만 하루 종료 시 체력 회복 기초값이 +1000됩니다.
		PRINTL 
		PRINTFORML 엘릭서탕을 추가하시겠습니까? (필요:{エリクシール湯費}루피 / 유지비:1일 10,000루피)
		PRINTBUTTONLC "[0] 예", 0
		PRINTBUTTONLC "[1] 아니오", 1
		BINPUT
		SELECTCASE RESULT
			CASE 0
				IF MONEY < エリクシール湯費
					PRINTW 루피가 부족합니다.
					RETURN
				ENDIF
				施設改造度:7:2 = 1
				施設改造度:8:2 = 1
				MONEY -= エリクシール湯費
				PRINTL 특별탕 라인업에 엘릭서탕을 추가했습니다!
				PRINTW (ダウン状態のキャラのみ一日終了時の体力回復基礎値＋１０００)
				CALL 履歴データベース登録(CFLAG:MASTER:人物番号, @"変わり湯のラインナップにエリクシール湯を追加した","実績")
				RETURN
			CASE 1
				RETURN
		ENDSELECT
		RESTART
	CASE 203
		DRAWLINE
		PRINTL 특별탕 라인업에 유자탕이 추가됩니다.
		PRINTL 그 효과로 인해, 일반 관광객이 오는 수가 미미하게 증가합니다.
		PRINTL 
		PRINTFORML 유자탕을 추가하시겠습니까? (필요:{ユズ湯費}루피 / 유지비:1일 1,000루피)
		PRINTBUTTONLC "[0] 예", 0
		PRINTBUTTONLC "[1] 아니요", 1
		BINPUT
		SELECTCASE RESULT
			CASE 0
				IF MONEY < ユズ湯費
					PRINTW 루피가 부족합니다.
					RETURN
				ENDIF
				施設改造度:7:3 = 1
				施設改造度:8:3 = 1
				MONEY -= ユズ湯費
				PRINTL 특별탕 라인업에 유자탕을 추가했습니다!
				PRINTW (モブ観光客が来る数が微増)
				CALL 履歴データベース登録(CFLAG:MASTER:人物番号, @"変わり湯のラインナップにユズ湯を追加した","実績")
				RETURN
			CASE 1
				RETURN
		ENDSELECT
		RESTART
ENDSELECT







